{"version":3,"sources":["img/Star_Wars_Logo.svg","img/lightsaber_blue2.png","components/Intro/Intro.js","components/v1/helpers/api.js","components/v1/helpers/apiController.js","components/v1/Detail/Detail.js","components/v1/Loader/Loader.js","components/v1/Error/Error.js","components/v1/PageLinks/PageLinks.js","components/v1/List/List.js","components/v1/Results/Results.js","components/v1/v1/V1.js","components/v2/helpers/api.js","components/v2/hooks/useSwApi.js","components/v2/Detail/Detail.js","components/v2/helpers/textHelpers.js","components/v2/Loader/Loader.js","components/v2/Error/Error.js","components/v2/PageLinks/PageLinks.js","components/v2/List/List.js","components/v2/Results/Results.js","components/v2/v2/V2.js","components/v3/helpers/api.js","components/v3/hooks/useSwApi.js","components/v3/Detail/Detail.js","components/v3/helpers/textHelpers.js","components/v3/Loader/Loader.js","components/v3/Error/Error.js","components/v3/PageLinks/PageLinks.js","components/v3/List/List.js","components/v3/Results/Results.js","components/v3/v3/V3.js","webpack:///./src/img/Star_Wars_Logo.svg?574e","components/v4/v4/V4.js","components/v5/helpers/api.js","components/v5/hooks/reducers.js","components/v5/hooks/fetchSingle.js","components/v5/hooks/useSwApi.js","components/v5/v5/V5.js","components/App/App.js","index.js"],"names":["module","exports","Intro","setVersion","className","src","starWarsLogo","alt","onClick","e","style","borderColor","appConstants","SW_COLOR","checkResponse","resp","ok","status","statusText","errorToReturn","Error","name","message","param","a","headers","Headers","append","fetch","checkedResp","json","data","error","memoizedFetch","fn","cache","args","hasOwnProperty","apply","this","result","memoize","categories","apiController","params","searchTerm","searchPage","url","Promise","resolve","reject","results","dataWithNames","JSON","parse","stringify","item","title","push","sort","b","episode_id","uuid","require","Detail","props","detailObj","detail","Object","keys","map","key","handleValue","val","Array","isArray","vals","k","Loader","ligthsaber","errorDisplay","resetAction","PageLinks","linksArray","link","clickHandler","color","matchColor","display","List","list","Fragment","id","Results","count","page","fetching","setError","term","showDetailHandler","searchHandler","renderContent","toUpperCase","slice","listExtended","constants","renderList","linkCount","linkPagesNeeded","Math","ceil","i","renderPageLinks","V1","useState","setData","setCount","setPage","setDetail","setFetching","setTerm","handleSearch","undefined","toString","errStr","cat","res","useSwApi","isFetching","setIsFetching","useEffect","dataReducer","prev","dataToReduce","termObject","handleResults","fetchData","config","method","Accept","dataToSet","formatText","str","split","word","join","capitalize","replace","removeUnderscores","inObj","outObj","singles","lists","technical","technicalKeys","forEach","includes","getRenderObj","objKey","length","renderLists","isData","V2","console","log","renderSingles","singlesKey","Number","isNaN","parseFloat","toLocaleString","crawl","getDisplayItem","termAndId","getPage","num","getIsUrl","_extends","assign","target","arguments","source","prototype","call","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","x","y","width","height","_ref3","fill","d","_ref","svgRef","viewBox","enableBackground","xmlSpace","ref","ForwardRef","forwardRef","urlCatsByTerm","idFromUrl","extractIdsFromUrls","urlsArray","V4","dataId","setDataId","pageIds","newTermObject","allData","termId","keyInResult","idsFromUrls","idsToFetch","currentDetail","detailKey","ids","idTerm","inId","parseInt","dataTerm","setTimeout","setByDataId","pageCount","pages","pageLinksArray","getTerms","termsArray","pageId","el","changeToId","renderMenu","detailData","keyConvert","arrays","keyInObj","unshift","dataKey","arrayItems","returnItems","itemName","renderPreparedDetail","values","valInside","renderDetail","getItemId","category","itemNumber","singleReducer","itemId","newItem","items","getUrlInfo","dataWithName","checkedData","initialDataState","films","people","planets","species","starships","vehicles","requestForSingles","setRequestForSingles","req","initialSingle","V5","listSingles","setListSingles","renderSingle","inData","getSingleContent","allIdsArray","catName","idItem","inItem","itemCat","itemNum","idNumber","displayItem","renderIdItem","App","version","value","onChange","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ddb72bb9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Star_Wars_Logo.0a12a758.svg\";","module.exports = __webpack_public_path__ + \"static/media/lightsaber_blue2.02916d98.png\";","import React from 'react';\nimport './Intro.css';\n\nimport starWarsLogo from '../../img/Star_Wars_Logo.svg';\nimport appConstants from '../../constants.json';\n\nconst Intro = ({ setVersion }) => {\n\treturn (\n\t\t<div className=\"intro__welcome-box\">\n\t\t\t<div className=\"intro__star-wars\">\n\t\t\t\t<img src={starWarsLogo} alt=\"Star Wars Logo\" />\n\t\t\t</div>\n\n\t\t\t<h3>Welcome to your interface for the Star Wars API.</h3>\n\t\t\t<h3>\n\t\t\t\tEnter and follow your nose for all kinds of Star Wars facts and\n\t\t\t\tstats from films 1 - 7.\n\t\t\t</h3>\n\t\t\t<div className=\"intro__go-box\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"intro__go-button\"\n\t\t\t\t\tonClick={(e) => setVersion('5')}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderColor: `${appConstants.SW_COLOR}`\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tLet's Go!\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Intro;\n","function memoize(fn) {\r\n\tconst cache = {};\r\n\treturn async function(...args) {\r\n\t\tif (cache[args] && !cache[args].hasOwnProperty('error')) {\r\n\t\t\treturn cache[args];\r\n\t\t}\r\n\r\n\t\tconst result = await fn.apply(this, args);\r\n\t\tcache[args] = result;\r\n\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction checkResponse(resp) {\r\n\tif (!resp.ok) {\r\n\t\tconst { status, statusText } = resp;\r\n\t\tconst errorToReturn = new Error();\r\n\t\terrorToReturn.name = `${status}`;\r\n\t\terrorToReturn.message = `${statusText}`;\r\n\r\n\t\tthrow errorToReturn;\r\n\t}\r\n\treturn resp;\r\n}\r\n\r\nasync function fetchAPI(param) {\r\n\ttry {\r\n\t\tconst headers = new Headers();\r\n\t\theaders.append('Content-type', 'application/json');\r\n\t\theaders.append('Accept', 'application/json');\r\n\r\n\t\tconst resp = await fetch(param, { headers });\r\n\t\tconst checkedResp = await checkResponse(resp);\r\n\t\tconst json = await checkedResp.json();\r\n\r\n\t\treturn { data: json };\r\n\t} catch (error) {\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport const memoizedFetch = memoize(fetchAPI);\r\n","import { memoizedFetch } from './api';\r\n\r\nconst BASE_URL = 'https://swapi.co/api/';\r\n\r\nexport const categories = [\r\n\t'films',\r\n\t'people',\r\n\t'planets',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\n\r\nconst apiController = async (params) => {\r\n\tconst { searchTerm, searchPage } = params;\r\n\tconst url = `${BASE_URL}${searchTerm}/?page=${searchPage}`;\r\n\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\tconst data = await memoizedFetch(url);\r\n\t\tlet results = data.data.results;\r\n\t\t// console.log('data.data', data.data);\r\n\t\tif (results[0].hasOwnProperty('name') && searchTerm !== 'films') {\r\n\t\t\tresolve(data);\r\n\t\t} else {\r\n\t\t\t// console.log('results', results);\r\n\t\t\tlet dataWithNames = JSON.parse(JSON.stringify(data));\r\n\t\t\tdataWithNames.data.results = [];\r\n\t\t\tlet item;\r\n\t\t\tfor (item of results) {\r\n\t\t\t\titem['name'] = item.title;\r\n\t\t\t\tdataWithNames.data.results.push(item);\r\n\t\t\t}\r\n\t\t\t// console.log(\r\n\t\t\t// \t'dataWithNames.data.results',\r\n\t\t\t// \tdataWithNames.data.results\r\n\t\t\t// );\r\n\t\t\tdataWithNames.data.results.sort(\r\n\t\t\t\t(a, b) => a.episode_id - b.episode_id\r\n\t\t\t);\r\n\t\t\t// console.log(\r\n\t\t\t// \t'dataWithNames.data.results',\r\n\t\t\t// \tdataWithNames.data.results\r\n\t\t\t// );\r\n\t\t\tresolve(dataWithNames);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default apiController;\r\n","import React from 'react';\r\nimport './Detail.css';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nfunction handleValue(val) {\r\n\t// Handle strings & numbers\r\n\tif (typeof val === 'string' || typeof val === 'number') {\r\n\t\treturn val;\r\n\t}\r\n\r\n\t// Handle arrays\r\n\tif (Array.isArray(val)) {\r\n\t\tconst vals = [];\r\n\r\n\t\tlet item;\r\n\t\tfor (item of val) {\r\n\t\t\tvals.push(handleValue(item));\r\n\t\t}\r\n\r\n\t\treturn <div>{vals.map((k) => <div key={uuid()}>{k}</div>)}</div>;\r\n\t}\r\n\r\n\t// Handle all other types\r\n\treturn JSON.stringify(val);\r\n}\r\n\r\nconst Detail = (props) => {\r\n\tconst detailObj = props.detail;\r\n\r\n\treturn (\r\n\t\t<div className=\"detail-box\">\r\n\t\t\t<h2>{detailObj['name']}</h2>\r\n\t\t\t<div className=\"columnsBox\">\r\n\t\t\t\t<div className=\"columns\">\r\n\t\t\t\t\t{detailObj &&\r\n\t\t\t\t\t\tObject.keys(detailObj).map((key) => (\r\n\t\t\t\t\t\t\t<div key={uuid()} className=\"keyValBox\">\r\n\t\t\t\t\t\t\t\t<div className=\"col detailKey\">{key}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col detailValue\">\r\n\t\t\t\t\t\t\t\t\t{handleValue(detailObj[key])}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Detail;\r\n","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nimport ligthsaber from '../../../img/lightsaber_blue2.png';\r\n\r\nconst Loader = () => (\r\n\t<div className=\"loader-box\">\r\n\t\t<img className=\"lightsaber\" src={ligthsaber} alt=\"Lightsaber blue\" />\r\n\t</div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport './Error.css';\r\n\r\nconst Error = ({ errorDisplay, resetAction }) => {\r\n\treturn (\r\n\t\t<div className=\"error\">\r\n\t\t\t<div>Encountered an error:</div>\r\n\t\t\t<div>{`${errorDisplay}`}</div>\r\n\t\t\t<button className=\"reset-button\" onClick={resetAction}>\r\n\t\t\t\tContinue\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst PageLinks = ({ linksArray }) => {\r\n\treturn (\r\n\t\t<div className=\"links\">\r\n\t\t\t{linksArray.map((link) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={link.key}\r\n\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\tonClick={link.clickHandler}\r\n\t\t\t\t\tstyle={{ color: link.matchColor }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{link.display}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageLinks;\r\n","import React from 'react';\r\nimport './List.css';\r\n\r\nconst List = ({ list }) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"list-item\"\r\n\t\t\t\t\t\t\tonClick={item.clickHandler}\r\n\t\t\t\t\t\t\tstyle={{ color: `${item.color}` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.display}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport Error from '../Error/Error';\r\nimport PageLinks from '../PageLinks/PageLinks';\r\nimport List from '../List/List';\r\nimport './Results.css';\r\n\r\nimport constants from '../../../constants.json';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst Results = (props) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\tcount,\r\n\t\tpage,\r\n\t\tfetching,\r\n\t\terror,\r\n\t\tsetError,\r\n\t\tterm,\r\n\t\tshowDetailHandler,\r\n\t\tsearchHandler,\r\n\t\tdetail\r\n\t} = props;\r\n\r\n\tconst renderPageLinks = (linkCount) => {\r\n\t\tlet linksArray = [];\r\n\r\n\t\tconst linkPagesNeeded = Math.ceil(linkCount / 10) || 1;\r\n\r\n\t\tfor (let i = 1; i <= linkPagesNeeded; i++) {\r\n\t\t\tlinksArray.push({\r\n\t\t\t\tkey: uuid(),\r\n\t\t\t\tdisplay: i,\r\n\t\t\t\tsearchTerm: term,\r\n\t\t\t\tmatchColor: i === page && constants.SW_COLOR,\r\n\t\t\t\tclickHandler: () =>\r\n\t\t\t\t\tsearchHandler({\r\n\t\t\t\t\t\tsearchPage: i,\r\n\t\t\t\t\t\tsearchTerm: term\r\n\t\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn <PageLinks linksArray={linksArray} />;\r\n\t};\r\n\r\n\tconst renderError = () => (\r\n\t\t<Error errorDisplay={error} resetAction={() => setError('')} />\r\n\t);\r\n\r\n\tconst renderFetching = () => <Loader />;\r\n\r\n\tconst renderList = () => {\r\n\t\tconst listExtended = data.results.map((item) => {\r\n\t\t\tconst id = uuid();\r\n\t\t\tconst clickHandler = () => showDetailHandler(item.name);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tdisplay: item.name,\r\n\t\t\t\tclickHandler: clickHandler,\r\n\t\t\t\tcolor: `${item.name === detail.name && constants.SW_COLOR}`\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn <List list={listExtended} />;\r\n\t};\r\n\r\n\tconst renderContent = () => (\r\n\t\t<div className=\"content\">\r\n\t\t\t{data.results && (\r\n\t\t\t\t<div className=\"results-heading\">\r\n\t\t\t\t\t<h2>{term[0].toUpperCase() + term.slice(1)}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"results-items\">\r\n\t\t\t\t{fetching && renderFetching()}\r\n\t\t\t\t{!fetching && data.results && renderList()}\r\n\t\t\t</div>\r\n\r\n\t\t\t{data.results && (\r\n\t\t\t\t<div className=\"page-links\">{renderPageLinks(count)}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderResults = () => {\r\n\t\tif (error) {\r\n\t\t\treturn renderError();\r\n\t\t} else {\r\n\t\t\treturn renderContent();\r\n\t\t}\r\n\t};\r\n\r\n\treturn <div className=\"results\">{renderResults()}</div>;\r\n};\r\n\r\nexport default Results;\r\n","import React, { useState } from 'react';\nimport apiController, { categories } from '../helpers/apiController';\nimport Detail from '../Detail/Detail';\nimport Results from '../Results/Results';\nimport Loader from '../Loader/Loader';\n\nimport starWarsLogo from '../../../img/Star_Wars_Logo.svg';\nimport './V1.css';\n\nconst uuid = require('uuid/v4');\n\nfunction V1() {\n\tconst [ data, setData ] = useState([]);\n\tconst [ count, setCount ] = useState(0);\n\tconst [ page, setPage ] = useState(1);\n\tconst [ detail, setDetail ] = useState({});\n\tconst [ fetching, setFetching ] = useState(false);\n\tconst [ error, setError ] = useState('');\n\tconst [ term, setTerm ] = useState('');\n\n\tconst handleSearch = async (params) => {\n\t\tconst { searchTerm, searchPage } = params;\n\t\tsetFetching(true);\n\n\t\ttry {\n\t\t\tconst data = await apiController(params);\n\t\t\tif (searchTerm !== undefined) {\n\t\t\t\tsetTerm(searchTerm);\n\t\t\t}\n\n\t\t\tif (data.hasOwnProperty('data')) {\n\t\t\t\tsetData(data.data);\n\n\t\t\t\tif (searchPage !== undefined) {\n\t\t\t\t\tsetPage(searchPage);\n\t\t\t\t}\n\n\t\t\t\tif (data.data.hasOwnProperty('count')) {\n\t\t\t\t\tsetCount(data.data.count);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.hasOwnProperty('error')) {\n\t\t\t\tsetError(data.error.toString());\n\t\t\t}\n\t\t\tsetFetching(false);\n\t\t} catch (error) {\n\t\t\tconst errStr = JSON.stringify(error);\n\t\t\tsetError(errStr);\n\t\t}\n\t};\n\n\tfunction showDetail(name) {\n\t\tlet res;\n\t\tfor (res of data.results) {\n\t\t\tif (res.name === name) {\n\t\t\t\tsetDetail(res);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"v1\">\n\t\t\t<header>\n\t\t\t\t<div className=\"star-wars\">\n\t\t\t\t\t<img src={starWarsLogo} alt=\"Star Wars Logo\" />\n\t\t\t\t</div>\n\n\t\t\t\t{categories.map((cat) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"search-button\"\n\t\t\t\t\t\tkey={uuid()}\n\t\t\t\t\t\tid={cat}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\thandleSearch({ searchTerm: cat, searchPage: 1 })}\n\t\t\t\t\t\tstyle={{ color: `${cat === term && '#ffe82f'}` }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${cat[0].toUpperCase()}${cat.slice(1)}`}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</header>\n\t\t\t<div className=\"fetch-content\">\n\t\t\t\t{fetching && !data.results ? (\n\t\t\t\t\t<div className=\"loader-wrapper\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Results\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\t\tfetching={fetching}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tterm={term}\n\t\t\t\t\t\t\tshowDetailHandler={showDetail}\n\t\t\t\t\t\t\tsearchHandler={handleSearch}\n\t\t\t\t\t\t\tsetError={setError}\n\t\t\t\t\t\t\tdetail={detail}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{JSON.stringify(detail) !== '{}' && (\n\t\t\t\t\t\t\t<Detail detail={detail} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default V1;\n","function memoize(fn) {\r\n\tconst cache = {};\r\n\treturn async function(...args) {\r\n\t\tif (cache[args] && !cache[args].hasOwnProperty('error')) {\r\n\t\t\treturn cache[args];\r\n\t\t}\r\n\r\n\t\tconst result = await fn.apply(this, args);\r\n\t\tcache[args] = result;\r\n\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction checkResponse(resp) {\r\n\tif (!resp.ok) {\r\n\t\tconst { status, statusText } = resp;\r\n\t\tconst errorToReturn = new Error();\r\n\t\terrorToReturn.name = `${status}`;\r\n\t\terrorToReturn.message = `${statusText}`;\r\n\r\n\t\tthrow errorToReturn;\r\n\t}\r\n\treturn resp;\r\n}\r\n\r\nasync function fetchAPI(param) {\r\n\ttry {\r\n\t\tconst headers = new Headers();\r\n\t\theaders.append('Content-type', 'application/json');\r\n\t\theaders.append('Accept', 'application/json');\r\n\r\n\t\tconst resp = await fetch(param, { headers });\r\n\t\tconst checkedResp = await checkResponse(resp);\r\n\t\tconst json = await checkedResp.json();\r\n\r\n\t\treturn { data: json };\r\n\t} catch (error) {\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport const memoizedFetch = memoize(fetchAPI);\r\n","import { useEffect, useState } from 'react';\r\nimport { memoizedFetch } from '../helpers/api';\r\n\r\nconst BASE_URL = 'https://swapi.co/api/';\r\n\r\nconst categories = [\r\n\t'films',\r\n\t'people',\r\n\t'planets',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\n\r\nconst useSwApi = () => {\r\n\tconst [ data, setData ] = useState({});\r\n\tconst [ isFetching, setIsFetching ] = useState(false);\r\n\tconst [ error, setError ] = useState('');\r\n\tconst [ term, setTerm ] = useState('');\r\n\tconst [ page, setPage ] = useState(0);\r\n\tconst [ detail, setDetail ] = useState({});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfunction dataReducer(prev, dataToReduce) {\r\n\t\t\t\tlet termObject = {};\r\n\r\n\t\t\t\tif (prev.hasOwnProperty(term)) {\r\n\t\t\t\t\ttermObject = { ...prev[term] };\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttermObject = { count: dataToReduce.data.count };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[term]: {\r\n\t\t\t\t\t\t...termObject,\r\n\t\t\t\t\t\t[page]: dataToReduce.data.results\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction handleResults(data) {\r\n\t\t\t\tlet results = data.data.results;\r\n\r\n\t\t\t\tif (results[0].hasOwnProperty('name') && term !== 'films') {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet dataWithNames = JSON.parse(JSON.stringify(data));\r\n\t\t\t\t\tdataWithNames.data.results = [];\r\n\r\n\t\t\t\t\tlet item;\r\n\t\t\t\t\tfor (item of results) {\r\n\t\t\t\t\t\titem['name'] = item.title;\r\n\t\t\t\t\t\tdataWithNames.data.results.push(item);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdataWithNames.data.results.sort(\r\n\t\t\t\t\t\t(a, b) => a.episode_id - b.episode_id\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn dataWithNames;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst fetchData = async () => {\r\n\t\t\t\tsetError('');\r\n\t\t\t\tsetIsFetching(true);\r\n\r\n\t\t\t\tconst url = `${BASE_URL}${term}/?page=${page}`;\r\n\r\n\t\t\t\tconst config = {\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAccept: 'application/json, text/plain, */*'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst data = await memoizedFetch(url, config);\r\n\t\t\t\t\tconst dataToSet = handleResults(data);\r\n\r\n\t\t\t\t\tsetData((prev) => dataReducer(prev, dataToSet));\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tsetError(JSON.stringify(error));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetIsFetching(false);\r\n\t\t\t};\r\n\r\n\t\t\t// Check that the data is not present already\r\n\t\t\tif (data.hasOwnProperty(term) && data[term].hasOwnProperty(page)) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\t// If not, fetch it\r\n\t\t\t\tif (term && page) fetchData();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ term, page, data ]\r\n\t);\r\n\r\n\treturn [\r\n\t\t{ categories, data, isFetching, error, term, page, detail },\r\n\t\t{ setIsFetching, setError, setTerm, setPage, setDetail }\r\n\t];\r\n};\r\n\r\nexport default useSwApi;\r\n\r\n// {\r\n// \tfilms<term>: {\r\n// \t\tcount: 7,\r\n// \t\tnext: ?,\r\n// \t\tprevious: ?,\r\n// \t\t1<page>: [\r\n// \t\t\t{},\r\n// \t\t\t{},\r\n// \t\t\t...\r\n// \t\t]\r\n// \t},\r\n// \tpeople<term>: {\r\n// \t\tcount: 87,\r\n// \t\tnext: ?,\r\n// \t\tprevious: ?,\r\n// \t\t1<page>: [\r\n// \t\t\t{},\r\n// \t\t\t{},\r\n// \t\t\t...\r\n// \t\t]\r\n// \t}\r\n// }\r\n","import React from 'react';\r\nimport { capitalize, removeUnderscores } from '../helpers/textHelpers';\r\nimport './Detail.css';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst formatText = (str) => {\r\n\tlet retStr = removeUnderscores(str);\r\n\treturn capitalize(retStr);\r\n};\r\n\r\nconst getRenderObj = (inObj) => {\r\n\tconst outObj = {\r\n\t\tname: '',\r\n\t\tsingles: {},\r\n\t\tlists: {},\r\n\t\ttechnical: {}\r\n\t};\r\n\r\n\tconst technicalKeys = [ 'created', 'edited', 'url' ];\r\n\r\n\tObject.keys(inObj).forEach((item) => {\r\n\t\tif (item === 'name') {\r\n\t\t\toutObj[item] = inObj[item];\r\n\t\t} else if (technicalKeys.includes(item)) {\r\n\t\t\toutObj.technical[item] = inObj[item];\r\n\t\t} else if (Array.isArray(inObj[item])) {\r\n\t\t\toutObj.lists[item] = inObj[item];\r\n\t\t} else {\r\n\t\t\toutObj.singles[item] = inObj[item];\r\n\t\t}\r\n\t});\r\n\r\n\treturn outObj;\r\n};\r\n\r\nconst renderLists = (inObj) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{Object.keys(inObj).map((objKey) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tinObj[objKey].length > 0 && (\r\n\t\t\t\t\t\t<div key={uuid()} className=\"v2ListBox\">\r\n\t\t\t\t\t\t\t<div className=\"v2detailKey\">\r\n\t\t\t\t\t\t\t\t{formatText(objKey)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{inObj[objKey].map((item) => (\r\n\t\t\t\t\t\t\t\t<div key={uuid()} className=\"v2detailValue\">\r\n\t\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nconst renderSingles = (inObj) => {\r\n\treturn Object.keys(inObj).map((k) => {\r\n\t\treturn (\r\n\t\t\t<div key={uuid()} className=\"v2keyValBox\">\r\n\t\t\t\t<div className=\"v2detailKey\">{formatText(k)}:</div>\r\n\t\t\t\t<div className=\"v2detailValue\">{inObj[k]}</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t});\r\n};\r\n\r\nconst Detail = (props) => {\r\n\tconst detailObj = props.detail;\r\n\r\n\tconst { name, singles, lists } = getRenderObj(detailObj);\r\n\r\n\treturn (\r\n\t\t<div className=\"v2detail-box\">\r\n\t\t\t<h2>{name}</h2>\r\n\t\t\t{singles && renderSingles(singles)}\r\n\t\t\t{lists && renderLists(lists)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Detail;\r\n","export const capitalize = (str) => {\r\n\treturn str\r\n\t\t.split(' ')\r\n\t\t.map((word) => {\r\n\t\t\treturn `${word[0].toUpperCase()}${word.slice(1)}`;\r\n\t\t})\r\n\t\t.join(' ');\r\n};\r\n\r\nexport const removeUnderscores = (str) => str.replace('_', ' ');\r\n","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nimport ligthsaber from '../../../img/lightsaber_blue2.png';\r\n\r\nconst Loader = () => (\r\n\t<div className=\"loader-box\">\r\n\t\t<img className=\"lightsaber\" src={ligthsaber} alt=\"Lightsaber blue\" />\r\n\t</div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport './Error.css';\r\n\r\nconst Error = ({ errorDisplay, resetAction }) => {\r\n\treturn (\r\n\t\t<div className=\"error\">\r\n\t\t\t<div>Encountered an error:</div>\r\n\t\t\t<div>{`${errorDisplay}`}</div>\r\n\t\t\t<button className=\"reset-button\" onClick={resetAction}>\r\n\t\t\t\tContinue\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst PageLinks = ({ linksArray }) => {\r\n\treturn (\r\n\t\t<div className=\"links\">\r\n\t\t\t{linksArray.map((link) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={link.key}\r\n\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\tonClick={link.clickHandler}\r\n\t\t\t\t\tstyle={{ color: link.matchColor }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{link.display}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageLinks;\r\n","import React from 'react';\r\nimport './List.css';\r\n\r\nconst List = ({ list }) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"list-item\"\r\n\t\t\t\t\t\t\tonClick={item.clickHandler}\r\n\t\t\t\t\t\t\tstyle={{ color: `${item.color}` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.display}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport Error from '../Error/Error';\r\nimport PageLinks from '../PageLinks/PageLinks';\r\nimport List from '../List/List';\r\nimport './Results.css';\r\n\r\nimport constants from '../../../constants.json';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst Results = (props) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\tpage,\r\n\t\tfetching,\r\n\t\terror,\r\n\t\tsetError,\r\n\t\tterm,\r\n\t\tshowDetailHandler,\r\n\t\tsearchHandler,\r\n\t\tdetail\r\n\t} = props;\r\n\r\n\tconst renderPageLinks = (linkCount) => {\r\n\t\tlet linksArray = [];\r\n\r\n\t\tconst linkPagesNeeded = Math.ceil(linkCount / 10) || 1;\r\n\r\n\t\tfor (let i = 1; i <= linkPagesNeeded; i++) {\r\n\t\t\tlinksArray.push({\r\n\t\t\t\tkey: uuid(),\r\n\t\t\t\tdisplay: i,\r\n\t\t\t\tsearchTerm: term,\r\n\t\t\t\tmatchColor: i === page && constants.SW_COLOR,\r\n\t\t\t\tclickHandler: () =>\r\n\t\t\t\t\tsearchHandler({\r\n\t\t\t\t\t\tsearchPage: i,\r\n\t\t\t\t\t\tsearchTerm: term\r\n\t\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn <PageLinks linksArray={linksArray} />;\r\n\t};\r\n\r\n\tconst renderError = () => (\r\n\t\t<Error errorDisplay={error} resetAction={() => setError('')} />\r\n\t);\r\n\r\n\tconst renderFetching = () => <Loader />;\r\n\r\n\tconst renderList = () => {\r\n\t\tconst listExtended = data[term][page].map((item) => {\r\n\t\t\tconst id = uuid();\r\n\t\t\tconst clickHandler = () => showDetailHandler(item.name);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tdisplay: item.name,\r\n\t\t\t\tclickHandler: clickHandler,\r\n\t\t\t\tcolor: `${item.name === detail.name && constants.SW_COLOR}`\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn <List list={listExtended} />;\r\n\t};\r\n\r\n\tconst renderContent = () => {\r\n\t\tconst isData =\r\n\t\t\tObject.keys(data).length > 0 &&\r\n\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\tdata[term].hasOwnProperty(page);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t{isData && (\r\n\t\t\t\t\t<div className=\"results-heading\">\r\n\t\t\t\t\t\t<h2>{term[0].toUpperCase() + term.slice(1)}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"results-items\">\r\n\t\t\t\t\t{fetching && renderFetching()}\r\n\t\t\t\t\t{!fetching && isData && renderList()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{isData && (\r\n\t\t\t\t\t<div className=\"page-links\">\r\n\t\t\t\t\t\t{renderPageLinks(data[term].count)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderResults = () => {\r\n\t\tif (error) {\r\n\t\t\treturn renderError();\r\n\t\t} else {\r\n\t\t\treturn renderContent();\r\n\t\t}\r\n\t};\r\n\r\n\treturn <div className=\"results\">{renderResults()}</div>;\r\n};\r\n\r\nexport default Results;\r\n","import React from 'react';\nimport useSwApi from '../hooks/useSwApi';\nimport Detail from '../Detail/Detail';\nimport Results from '../Results/Results';\nimport Loader from '../Loader/Loader';\n\nimport starWarsLogo from '../../../img/Star_Wars_Logo.svg';\nimport appConstants from '../../../constants.json';\nimport './V2.css';\n\nconst uuid = require('uuid/v4');\n\nfunction V2(props) {\n\tconst [\n\t\t{ categories, data, isFetching, error, term, page, count, detail },\n\t\t{ setTerm, setPage, setError, setDetail }\n\t] = useSwApi();\n\n\tconst { setVersion } = props;\n\n\tconst handleSearch = async (params) => {\n\t\tconst { searchTerm, searchPage } = params;\n\t\tsetTerm(searchTerm);\n\t\tsetPage(searchPage);\n\t};\n\n\tfunction showDetail(name) {\n\t\tlet res;\n\t\tfor (res of data[term][page]) {\n\t\t\tif (res.name === name) {\n\t\t\t\tsetDetail(res);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"v2\">\n\t\t\t<header>\n\t\t\t\t<div className=\"star-wars\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={starWarsLogo}\n\t\t\t\t\t\talt=\"Star Wars Logo\"\n\t\t\t\t\t\tonClick={(e) => setVersion('0')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{categories.map((cat) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"search-button\"\n\t\t\t\t\t\tkey={uuid()}\n\t\t\t\t\t\tid={cat}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\thandleSearch({ searchTerm: cat, searchPage: 1 })}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: `${cat === term && appConstants.SW_COLOR}`\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${cat[0].toUpperCase()}${cat.slice(1)}`}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</header>\n\t\t\t<div className=\"fetch-content\">\n\t\t\t\t{isFetching && !data.results ? (\n\t\t\t\t\t<div className=\"loader-wrapper\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Results\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\t\tfetching={isFetching}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tterm={term}\n\t\t\t\t\t\t\tshowDetailHandler={showDetail}\n\t\t\t\t\t\t\tsearchHandler={handleSearch}\n\t\t\t\t\t\t\tsetError={setError}\n\t\t\t\t\t\t\tdetail={detail}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{JSON.stringify(detail) !== '{}' && (\n\t\t\t\t\t\t\t<Detail detail={detail} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default V2;\n","function memoize(fn) {\r\n\tconst cache = {};\r\n\treturn async function(...args) {\r\n\t\tif (cache[args] && !cache[args].hasOwnProperty('error')) {\r\n\t\t\treturn cache[args];\r\n\t\t}\r\n\r\n\t\tconst result = await fn.apply(this, args);\r\n\t\tcache[args] = result;\r\n\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction checkResponse(resp) {\r\n\tif (!resp.ok) {\r\n\t\tconst { status, statusText } = resp;\r\n\t\tconst errorToReturn = new Error();\r\n\t\terrorToReturn.name = `${status}`;\r\n\t\terrorToReturn.message = `${statusText}`;\r\n\r\n\t\tthrow errorToReturn;\r\n\t}\r\n\treturn resp;\r\n}\r\n\r\nasync function fetchAPI(param) {\r\n\ttry {\r\n\t\tconst headers = new Headers();\r\n\t\theaders.append('Content-type', 'application/json');\r\n\t\theaders.append('Accept', 'application/json');\r\n\r\n\t\tconst resp = await fetch(param, { headers });\r\n\t\tconst checkedResp = await checkResponse(resp);\r\n\t\tconst json = await checkedResp.json();\r\n\r\n\t\treturn { data: json };\r\n\t} catch (error) {\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport const memoizedFetch = memoize(fetchAPI);\r\n","import { useEffect, useState } from 'react';\r\nimport { memoizedFetch } from '../helpers/api';\r\n\r\nconst BASE_URL = 'https://swapi.co/api/';\r\n\r\nconst categories = [\r\n\t'films',\r\n\t'people',\r\n\t'planets',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\n\r\nconst useSwApi = () => {\r\n\tconst [ data, setData ] = useState({});\r\n\tconst [ isFetching, setIsFetching ] = useState(false);\r\n\tconst [ error, setError ] = useState('');\r\n\tconst [ term, setTerm ] = useState('');\r\n\tconst [ page, setPage ] = useState(0);\r\n\tconst [ detail, setDetail ] = useState({});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tfunction handleResults(data) {\r\n\t\t\t\tlet results = data.data.results;\r\n\r\n\t\t\t\tif (results[0].hasOwnProperty('name') && term !== 'films') {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet dataWithNames = JSON.parse(JSON.stringify(data));\r\n\t\t\t\t\tdataWithNames.data.results = [];\r\n\r\n\t\t\t\t\tlet item;\r\n\t\t\t\t\tfor (item of results) {\r\n\t\t\t\t\t\titem['name'] = item.title;\r\n\t\t\t\t\t\tdataWithNames.data.results.push(item);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdataWithNames.data.results.sort(\r\n\t\t\t\t\t\t(a, b) => a.episode_id - b.episode_id\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn dataWithNames;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction dataReducer(prev, dataToReduce) {\r\n\t\t\t\tlet termObject = {};\r\n\r\n\t\t\t\tif (prev.hasOwnProperty(term)) {\r\n\t\t\t\t\ttermObject = { ...prev[term] };\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttermObject = { count: dataToReduce.data.count };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[term]: {\r\n\t\t\t\t\t\t...termObject,\r\n\t\t\t\t\t\t[page]: dataToReduce.data.results\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tconst fetchData = async () => {\r\n\t\t\t\tsetError('');\r\n\t\t\t\tsetIsFetching(true);\r\n\r\n\t\t\t\tconst url = `${BASE_URL}${term}/?page=${page}`;\r\n\r\n\t\t\t\tconst config = {\r\n\t\t\t\t\tmethod: 'get',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAccept: 'application/json, text/plain, */*'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst data = await memoizedFetch(url, config);\r\n\t\t\t\t\tconsole.log('data', data);\r\n\t\t\t\t\tconst dataToSet = handleResults(data);\r\n\t\t\t\t\t// console.log('dataToSet', dataToSet)\r\n\t\t\t\t\t// const preparedData = prepareData(dataToSet)\r\n\r\n\t\t\t\t\tsetData((prev) => dataReducer(prev, dataToSet));\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tsetError(JSON.stringify(error));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetIsFetching(false);\r\n\t\t\t};\r\n\r\n\t\t\t// Check that the data is not present already\r\n\t\t\tif (data.hasOwnProperty(term) && data[term].hasOwnProperty(page)) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\t// If not, fetch it\r\n\t\t\t\tif (term && page) fetchData();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ term, page, data ]\r\n\t);\r\n\r\n\treturn [\r\n\t\t{ categories, data, isFetching, error, term, page, detail },\r\n\t\t{ setIsFetching, setError, setTerm, setPage, setDetail }\r\n\t];\r\n};\r\n\r\nexport default useSwApi;\r\n","import React from 'react';\r\nimport { capitalize, removeUnderscores } from '../helpers/textHelpers';\r\nimport './Detail.css';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst formatText = (str) => {\r\n\tlet retStr = removeUnderscores(str);\r\n\treturn capitalize(retStr);\r\n};\r\n\r\nconst formatValue = (str) => {\r\n\tif (\r\n\t\t!Number.isNaN(Number.parseFloat(str, 10)) &&\r\n\t\tNumber.parseFloat(str, 10).toString() === str\r\n\t) {\r\n\t\t// console.log('str', str);\r\n\t\treturn Number.parseFloat(str, 10).toLocaleString();\r\n\t}\r\n\treturn str;\r\n};\r\n\r\nconst getRenderObj = (inObj) => {\r\n\t// console.log('inObj', inObj);\r\n\tconst outObj = {\r\n\t\tname: '',\r\n\t\tsingles: {},\r\n\t\tlists: {},\r\n\t\ttechnical: {},\r\n\t\tcrawl: {}\r\n\t};\r\n\r\n\tconst technicalKeys = [ 'created', 'edited', 'url' ];\r\n\r\n\tconst getDisplayItem = (val) => {\r\n\t\t// val has been checked and is a url\r\n\t\tlet termAndId = val.replace('https://swapi.co/api/', '').split('/');\r\n\r\n\t\tconst [ term, id ] = termAndId;\r\n\r\n\t\treturn {\r\n\t\t\tterm: term,\r\n\t\t\tid: id,\r\n\t\t\tpage: getPage(id)\r\n\t\t};\r\n\t};\r\n\r\n\tconst getPage = (num) => {\r\n\t\treturn Math.ceil(num / 10);\r\n\t};\r\n\r\n\tconst getIsUrl = (val) => {\r\n\t\tif (!(typeof val === 'string')) {\r\n\t\t\t// console.warn('val not string: ', val);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn val.includes('https://swapi.co/api/') ? true : false;\r\n\t};\r\n\r\n\tObject.keys(inObj).forEach((item) => {\r\n\t\tif (item === 'name') {\r\n\t\t\toutObj[item] = inObj[item];\r\n\t\t} else if (item === 'opening_crawl') {\r\n\t\t\tconsole.log('inObj', inObj);\r\n\t\t\toutObj['crawl'] = { [item]: inObj[item] };\r\n\t\t} else if (technicalKeys.includes(item)) {\r\n\t\t\toutObj.technical[item] = inObj[item];\r\n\t\t} else if (Array.isArray(inObj[item])) {\r\n\t\t\toutObj.lists[item] = inObj[item].map((val) => {\r\n\t\t\t\tif (getIsUrl(val)) {\r\n\t\t\t\t\treturn getDisplayItem(val);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (getIsUrl(inObj[item])) {\r\n\t\t\t\toutObj.singles[item] = getDisplayItem(inObj[item]);\r\n\t\t\t} else {\r\n\t\t\t\toutObj.singles[item] = inObj[item];\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn outObj;\r\n};\r\n\r\nconst renderCrawl = (inObj) => {\r\n\treturn (\r\n\t\t<div className=\"v3-columns-box crawl\">\r\n\t\t\t<div className=\"v3-left\">\r\n\t\t\t\t{Object.keys(inObj).map((singlesKey) => (\r\n\t\t\t\t\t<div key={uuid()} className=\"v3-single-key\">\r\n\t\t\t\t\t\t{formatText(singlesKey)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"v3-right\">\r\n\t\t\t\t{Object.keys(inObj).map((singlesKey) => (\r\n\t\t\t\t\t<div key={uuid()} className=\"v3-single-value\">\r\n\t\t\t\t\t\t{typeof inObj[singlesKey] === 'string' ? (\r\n\t\t\t\t\t\t\tinObj[singlesKey]\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst renderSingles = (inObj) => {\r\n\treturn (\r\n\t\t<div className=\"v3-columns-box\">\r\n\t\t\t<div className=\"v3-left\">\r\n\t\t\t\t{Object.keys(inObj).map((singlesKey) => (\r\n\t\t\t\t\t<div key={uuid()} className=\"v3-single-key\">\r\n\t\t\t\t\t\t{formatText(singlesKey)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"v3-right\">\r\n\t\t\t\t{Object.keys(inObj).map((singlesKey) => (\r\n\t\t\t\t\t<div key={uuid()} className=\"v3-single-value\">\r\n\t\t\t\t\t\t{typeof inObj[singlesKey] === 'string' ||\r\n\t\t\t\t\t\ttypeof inObj[singlesKey] === 'number' ? (\r\n\t\t\t\t\t\t\tformatValue(inObj[singlesKey])\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Detail = (props) => {\r\n\tconst detailObj = props.detail;\r\n\r\n\tconst { name, singles, crawl } = getRenderObj(detailObj);\r\n\r\n\treturn (\r\n\t\t<div className=\"v3-detail-box\">\r\n\t\t\t<h2>{name}</h2>\r\n\t\t\t{singles && renderSingles(singles)}\r\n\t\t\t{crawl && renderCrawl(crawl)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Detail;\r\n","export const capitalize = (str) => {\r\n\treturn str\r\n\t\t.split(' ')\r\n\t\t.map((word) => {\r\n\t\t\treturn `${word[0].toUpperCase()}${word.slice(1)}`;\r\n\t\t})\r\n\t\t.join(' ');\r\n};\r\n\r\nexport const removeUnderscores = (str) => str.replace(/_/g, ' ');\r\n","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nimport ligthsaber from '../../../img/lightsaber_blue2.png';\r\n\r\nconst Loader = () => (\r\n\t<div className=\"loader-box\">\r\n\t\t<img className=\"lightsaber\" src={ligthsaber} alt=\"Lightsaber blue\" />\r\n\t</div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport './Error.css';\r\n\r\nconst Error = ({ errorDisplay, resetAction }) => {\r\n\treturn (\r\n\t\t<div className=\"error\">\r\n\t\t\t<div>Encountered an error:</div>\r\n\t\t\t<div>{`${errorDisplay}`}</div>\r\n\t\t\t<button className=\"reset-button\" onClick={resetAction}>\r\n\t\t\t\tContinue\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst PageLinks = ({ linksArray }) => {\r\n\treturn (\r\n\t\t<div className=\"links\">\r\n\t\t\t{linksArray.map((link) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={link.key}\r\n\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\tonClick={link.clickHandler}\r\n\t\t\t\t\tstyle={{ color: link.matchColor }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{link.display}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageLinks;\r\n","import React from 'react';\r\nimport './List.css';\r\n\r\nconst List = ({ list }) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"list-item\"\r\n\t\t\t\t\t\t\tonClick={item.clickHandler}\r\n\t\t\t\t\t\t\tstyle={{ color: `${item.color}` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.display}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport Error from '../Error/Error';\r\nimport PageLinks from '../PageLinks/PageLinks';\r\nimport List from '../List/List';\r\nimport './Results.css';\r\n\r\nimport constants from '../../../constants.json';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst Results = (props) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\tpage,\r\n\t\tfetching,\r\n\t\terror,\r\n\t\tsetError,\r\n\t\tterm,\r\n\t\tshowDetailHandler,\r\n\t\tsearchHandler,\r\n\t\tdetail\r\n\t} = props;\r\n\r\n\tconst renderPageLinks = (linkCount) => {\r\n\t\tlet linksArray = [];\r\n\r\n\t\tconst linkPagesNeeded = Math.ceil(linkCount / 10) || 1;\r\n\r\n\t\tfor (let i = 1; i <= linkPagesNeeded; i++) {\r\n\t\t\tlinksArray.push({\r\n\t\t\t\tkey: uuid(),\r\n\t\t\t\tdisplay: i,\r\n\t\t\t\tsearchTerm: term,\r\n\t\t\t\tmatchColor: i === page && constants.SW_COLOR,\r\n\t\t\t\tclickHandler: () =>\r\n\t\t\t\t\tsearchHandler({\r\n\t\t\t\t\t\tsearchPage: i,\r\n\t\t\t\t\t\tsearchTerm: term\r\n\t\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn <PageLinks linksArray={linksArray} />;\r\n\t};\r\n\r\n\tconst renderError = () => (\r\n\t\t<Error errorDisplay={error} resetAction={() => setError('')} />\r\n\t);\r\n\r\n\tconst renderFetching = () => <Loader />;\r\n\r\n\tconst renderList = () => {\r\n\t\tconst listExtended = data[term][page].map((item) => {\r\n\t\t\tconst id = uuid();\r\n\t\t\tconst clickHandler = () => showDetailHandler(item.name);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tdisplay: item.name,\r\n\t\t\t\tclickHandler: clickHandler,\r\n\t\t\t\tcolor: `${item.name === detail.name && constants.SW_COLOR}`\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn <List list={listExtended} />;\r\n\t};\r\n\r\n\tconst renderContent = () => {\r\n\t\tconst isData =\r\n\t\t\tObject.keys(data).length > 0 &&\r\n\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\tdata[term].hasOwnProperty(page);\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t{isData && (\r\n\t\t\t\t\t<div className=\"results-heading\">\r\n\t\t\t\t\t\t<h2>{term[0].toUpperCase() + term.slice(1)}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"results-items\">\r\n\t\t\t\t\t{fetching && renderFetching()}\r\n\t\t\t\t\t{!fetching && isData && renderList()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{isData && (\r\n\t\t\t\t\t<div className=\"page-links\">\r\n\t\t\t\t\t\t{renderPageLinks(data[term].count)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderResults = () => {\r\n\t\tif (error) {\r\n\t\t\treturn renderError();\r\n\t\t} else {\r\n\t\t\treturn renderContent();\r\n\t\t}\r\n\t};\r\n\r\n\treturn <div className=\"results\">{renderResults()}</div>;\r\n};\r\n\r\nexport default Results;\r\n","import React from 'react';\nimport useSwApi from '../hooks/useSwApi';\nimport Detail from '../Detail/Detail';\nimport Results from '../Results/Results';\nimport Loader from '../Loader/Loader';\n\nimport starWarsLogo from '../../../img/Star_Wars_Logo.svg';\nimport appConstants from '../../../constants.json';\nimport './V3.css';\n\nconst uuid = require('uuid/v4');\n\nfunction V2(props) {\n\tconst [\n\t\t{ categories, data, isFetching, error, term, page, count, detail },\n\t\t{ setTerm, setPage, setError, setDetail }\n\t] = useSwApi();\n\n\tconst { setVersion } = props;\n\n\tconst handleSearch = async (params) => {\n\t\tconst { searchTerm, searchPage } = params;\n\t\tsetTerm(searchTerm);\n\t\tsetPage(searchPage);\n\t};\n\n\tfunction showDetail(name) {\n\t\tlet res;\n\t\tfor (res of data[term][page]) {\n\t\t\tif (res.name === name) {\n\t\t\t\tsetDetail(res);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"v3\">\n\t\t\t<header>\n\t\t\t\t<div className=\"star-wars\">\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={starWarsLogo}\n\t\t\t\t\t\talt=\"Star Wars Logo\"\n\t\t\t\t\t\tonClick={(e) => setVersion('0')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{categories.map((cat) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"search-button\"\n\t\t\t\t\t\tkey={uuid()}\n\t\t\t\t\t\tid={cat}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\thandleSearch({ searchTerm: cat, searchPage: 1 })}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: `${cat === term && appConstants.SW_COLOR}`\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${cat[0].toUpperCase()}${cat.slice(1)}`}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</header>\n\t\t\t<div className=\"fetch-content\">\n\t\t\t\t{isFetching && !data.results ? (\n\t\t\t\t\t<div className=\"loader-wrapper\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Results\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\t\tfetching={isFetching}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tterm={term}\n\t\t\t\t\t\t\tshowDetailHandler={showDetail}\n\t\t\t\t\t\t\tsearchHandler={handleSearch}\n\t\t\t\t\t\t\tsetError={setError}\n\t\t\t\t\t\t\tdetail={detail}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{JSON.stringify(detail) !== '{}' && (\n\t\t\t\t\t\t\t<Detail detail={detail} data={data} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default V2;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Layer_3\"\n}, React.createElement(\"rect\", {\n  x: -6.084,\n  y: -3.711,\n  width: 700.465,\n  height: 422.979\n}));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"g\", {\n  id: \"Layer_2\"\n}, React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M148.718,221.207l8.67,25.461c4.691,13.768,8.879,24.779,9.425,24.779c0.009,0,0.017-0.004,0.024-0.01 c0.6-0.53,17.57-49.811,17.57-49.811h32.89l-39.68,115.619h-22.86c0,0-24.4-70.471-24.3-70.739l-25.47,69.851h-22.63 l-39.18-115.15l32.73,0.021c0,0,17.929,50.821,18.168,50.821c0.001,0,0.001-0.001,0.002-0.002l17.89-50.841H148.718 M32.003,213.2 l3.601,10.584l39.18,115.149l1.845,5.424h5.729h22.63h5.598l1.918-5.26l17.685-48.5c1.524,4.434,3.171,9.213,4.818,13.988 c6.089,17.655,12.191,35.277,12.191,35.277l1.864,5.383h5.696h22.86h5.712l1.854-5.403l39.68-115.618l3.637-10.598h-11.204h-32.89 h-5.706l-1.858,5.396c-2.974,8.635-6.921,20.031-10.296,29.676c-0.509-1.463-1.039-3.001-1.587-4.611l-8.669-25.46l-1.846-5.421 h-5.727h-36.75h-5.666l-1.881,5.345l-10.453,29.706c-3.453-9.706-7.456-21.017-10.516-29.691l-1.882-5.334l-5.657-0.004 l-32.73-0.021L32.003,213.2L32.003,213.2z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M655.258,220.758l-0.075,30.305c0,0-32.643-0.109-49.239-0.109c-5.521,0-9.266,0.013-9.444,0.045 c-2.86,0.521-4.681,6.602-3.87,9.271c0.399,1.35,3.391,5.76,6.63,9.81c3.229,4.051,8.54,10.681,11.78,14.729 c8.319,10.381,9.46,12.43,10.229,18.391c1.25,9.681-3.329,20.16-11.829,27.07c-8.518,6.93-8.145,6.979-71.383,6.979 c-0.916,0-1.835,0-2.777,0c-38.46-0.01-58.8-0.329-61.761-0.989c-5.26-1.19-13.64-8.03-35.79-29.28 c-7.967-7.636-15.309-14.322-15.686-14.324c-0.01,0-0.015,0.006-0.015,0.016l-0.261,44.579l-35.899-0.159l-0.221-114.98h45.271 h34.79c24.13,0.871,40.46,24.91,37.21,40.24c-0.74,3.479-2.62,8.521-4.181,11.2c-3.21,5.5-11.38,12.56-18.011,15.591 c-2.449,1.108-4.449,2.398-4.449,2.858c0,1.71,8.061,9.649,11.08,10.91c2.579,1.079,10.09,1.319,43.21,1.319 c3.882,0,7.408,0.002,10.608,0.002c33.293,0,31.618-0.24,34.19-5.741c1.801-3.83,0.431-6.12-12.239-20.39 c-16.051-15.971-14.37-23.621-14.48-29.271c-0.229-6.77,5.102-28.069,32.812-28.069L655.258,220.758 M440.188,273.878 c15.37,0,18.49-0.239,21.761-1.66c11.04-4.8,11.63-18.979,1.04-25.271c-2.319-1.381-5.3-1.609-21.96-1.7l-19.279-0.101 c0.159,0.15-0.061,27.57-0.061,27.57S426.518,273.878,440.188,273.878 M663.277,212.758h-8.021h-73.8 c-16.032,0-25.515,6.328-30.646,11.637c-8.347,8.633-10.313,19.504-10.162,24.629c0.008,0.427,0.003,0.865-0.002,1.322 c-0.073,8.329,1.154,17.758,16.659,33.246c3.065,3.452,8.193,9.239,10.131,12.115c-4.238,0.521-14.98,0.521-26.262,0.521h-4.792 l-5.816-0.002c-19.904,0-36.688-0.057-40.128-0.736c-0.481-0.314-1.156-0.854-1.898-1.498c6.877-4.235,13.83-10.799,17.104-16.412 c1.987-3.413,4.178-9.243,5.098-13.568c2.04-9.625-1.325-21.236-9.001-31.068c-8.956-11.471-21.985-18.334-35.746-18.83 l-0.145-0.006h-0.145h-34.79h-45.271h-8.016l0.016,8.017l0.221,114.979l0.016,7.949l7.949,0.035l35.899,0.159l7.988,0.035 l0.047-7.988l0.155-26.706c0.733,0.696,1.491,1.419,2.269,2.165c24.227,23.24,32.359,29.679,39.562,31.308 c1.979,0.441,5.253,1.172,63.523,1.188h2.779c31.546,0,47.38,0,56.799-0.91c10.789-1.043,14.259-3.49,19.461-7.725l0.173-0.141 c10.685-8.687,16.323-21.83,14.715-34.3c-1.048-8.11-3.194-11.479-11.922-22.368l-2.594-3.24 c-3.04-3.799-6.713-8.387-9.175-11.475c-1.986-2.484-3.546-4.689-4.487-6.133c1.236-0.003,2.841-0.005,4.918-0.005 c16.395,0,48.887,0.108,49.213,0.11l8.008,0.026l0.02-8.008l0.075-30.306L663.277,212.758L663.277,212.758z M429.739,265.586 c0.013-2.021,0.025-4.287,0.038-6.557c0.01-2,0.019-4.004,0.022-5.84l11.187,0.058c6.429,0.035,16.103,0.088,17.989,0.623 c2.407,1.461,3.75,3.72,3.604,6.06c-0.08,1.264-0.682,3.588-3.821,4.951c-1.75,0.76-4.54,0.997-18.57,0.997 C435.738,265.878,432.305,265.749,429.739,265.586L429.739,265.586z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M312.908,220.287l40.29,115.92l-32.83,0.15l-5.45-17.41l-58.7-0.471l-5.18,17.431l-32.5-0.341 l39.78-115.229L312.908,220.287 M286.507,237.283c-0.083,0.333-5.144,14.219-10.222,28.104c-5.12,14-10.257,28-10.328,28.109 c0,0.001-0.001,0.001,0,0.001l0,0c0,0,0,0,0-0.001c0.136-0.04,18.316-0.08,29.968-0.08c5.453,0,9.475,0.009,9.55,0.029 c0.001,0.004,0.001,0.005,0.001,0.005s0-0.001,0-0.003c0,0,0,0-0.001-0.002C305.271,292.916,286.566,237.959,286.507,237.283 c0.001-0.004,0.001-0.006,0.001-0.006l0,0C286.507,237.277,286.507,237.279,286.507,237.283 M318.595,212.282l-5.693,0.005 l-54.59,0.051l-5.696,0.005l-1.859,5.386l-39.78,115.229l-3.623,10.494l11.102,0.115l32.5,0.341l6.033,0.063l1.719-5.782 l3.466-11.662l46.854,0.375l3.708,11.848l1.765,5.638l5.907-0.026l32.829-0.15l11.195-0.052l-3.676-10.574l-40.29-115.92 L318.595,212.282L318.595,212.282z M277.472,285.424c1.515-4.129,3.556-9.71,6.327-17.289c0.869-2.376,1.664-4.551,2.393-6.545 c0.663,1.956,1.385,4.084,2.169,6.398c0.646,1.906,3.485,10.27,5.92,17.428C287.041,285.416,281.591,285.417,277.472,285.424 L277.472,285.424z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M326.488,81.928v28.6h-57.28v87.47h-34.15v-87.54l-66.86,0.19c-8.06,0-9.14,6.42-9.14,8.88 c0,3.02,1.97,6.04,12.79,19.74c7.02,8.9,13.47,17.78,14.32,19.72c4.64,10.68-1.36,27.32-12.29,34.08 c-7.79,4.813-6.459,4.931-64.308,4.931c-2.974,0-6.096,0-9.392,0h-62.27v-32.13h97.9l2.89-2.01c1.95-1.36,3.08-3.23,3.51-5.79 c0.6-3.68,0.29-4.16-11.8-17.78c-14.29-16.1-15.8-19.04-15.06-29.32c0.84-11.73,11.3-28.77,29.58-28.77L326.488,81.928  M334.488,73.916l-8.013,0.012l-181.56,0.27c-10.458,0-20.171,4.518-27.342,12.722c-5.814,6.652-9.63,15.429-10.206,23.477 c-0.973,13.511,2.137,18.393,17.056,35.202c4.33,4.877,8.447,9.516,9.821,11.486c-0.022,0.079-0.042,0.13-0.054,0.159 c-0.015,0.012-0.038,0.03-0.07,0.052l-0.822,0.572H37.908h-8v8v32.13v8h8h62.27h4.937h4.455c28.522,0,42.6-0.027,50.894-0.635 c9.49-0.695,12.518-2.323,17.054-5.14l0.566-0.351c14.262-8.821,21.612-29.827,15.422-44.074 c-1.91-4.358-14.003-19.746-15.376-21.486c-3.796-4.807-10.062-12.74-11.054-15.036c0.024-0.193,0.071-0.393,0.121-0.532 c0.165-0.042,0.481-0.098,1.001-0.098l58.86-0.167v79.517v8h8h34.15h8v-8v-79.47h49.28h8v-8v-28.6V73.916L334.488,73.916z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M419.548,82.857l40.18,116.22l-32.77-0.18l-5.32-17.41l-58.439-0.26l-5.221,16.77h-33.369l39.739-115.14 H419.548 M372.737,156.478l39.801-0.05c0.001,0,0.001,0.001,0.001,0.001c0.136,0-19.342-57.201-19.472-57.241l0,0 C392.925,99.183,372.288,156.478,372.737,156.478 M425.247,74.857h-5.699h-55.2h-5.701l-1.86,5.39l-39.74,115.141l-3.662,10.61 h11.225h33.37h5.889l1.75-5.623l3.461-11.121l46.632,0.207l3.599,11.774l1.721,5.629l5.887,0.033l32.77,0.18l11.297,0.062 l-3.691-10.676l-40.18-116.22L425.247,74.857L425.247,74.857z M383.851,148.464c2.468-7.027,5.904-16.657,9.014-25.312 c2.948,8.644,6.209,18.245,8.588,25.29L383.851,148.464L383.851,148.464z\"\n})), React.createElement(\"g\", null, React.createElement(\"path\", {\n  fill: \"#FFE81F\",\n  d: \"M532.396,82.857c25.921,0,43.91,0.37,47.37,0.97c8,1.39,15.23,5.66,20.65,12.22 c5.67,6.86,6.97,10.14,7.71,19.54c1.061,13.27-5.25,24.72-17.7,32.15c-3.63,2.17-7.359,4.28-8.29,4.7 c-1.43,0.65-1.239,1.27,1.32,4.27c1.649,1.93,4.51,4.68,6.35,6.11l3.36,2.61l62.08,0.89l0.609,31.68h-38.061 c-29.439,0-38.86-0.27-41.62-1.2c-4.13-1.4-14.069-9.82-34.271-29.04l-14.42-13.72l0.152,43.96h-37.043V82.857H532.396  M526.938,134.627h19.671c19.141,0,19.739-0.06,22.47-2.11c4.881-3.66,6.609-7.43,6.091-13.22c-0.53-5.97-2.83-9.08-8.601-11.58 c-3.25-1.42-6.381-1.65-21.721-1.65h-17.91V134.627 M532.396,74.857h-41.8h-8v8v115.14v8h8h37.043h8.028l-0.028-8.028 l-0.088-25.216l0.84,0.799c24.986,23.773,32.356,29.173,37.218,30.821c3.733,1.259,9.982,1.624,44.188,1.624h38.061h8.154 l-0.156-8.154l-0.609-31.68l-0.148-7.734l-7.734-0.111l-59.402-0.851l-1.245-0.967c-0.396-0.309-0.876-0.717-1.389-1.179 c0.446-0.264,0.854-0.507,1.207-0.717c15.003-8.953,22.866-23.407,21.569-39.653c-0.863-10.959-2.82-15.896-9.52-24 c-6.584-7.969-15.621-13.298-25.447-15.005C575.678,74.999,548.257,74.857,532.396,74.857L532.396,74.857z M534.938,114.067h9.91 c14.027,0,16.806,0.233,18.518,0.981c3.25,1.408,3.58,2.091,3.835,4.957c0.256,2.848-0.097,3.994-2.922,6.112 c-0.093,0.069-0.164,0.123-0.223,0.166c-1.865,0.345-8.786,0.345-17.447,0.345h-11.67L534.938,114.067L534.938,114.067z\"\n})));\n\nvar SvgStarWarsLogo = function SvgStarWarsLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"693.615px\",\n    height: \"419.375px\",\n    viewBox: \"0 0 693.615 419.375\",\n    enableBackground: \"new 0 0 693.615 419.375\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgStarWarsLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Star_Wars_Logo.0a12a758.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState } from 'react';\r\n\r\nimport './V4.css';\r\n\r\nimport { ReactComponent as StarWarsLogo } from '../../../img/Star_Wars_Logo.svg';\r\n\r\nimport allData from '../allData.json';\r\n\r\nconst urlCatsByTerm = [\r\n\t'characters',\r\n\t'films',\r\n\t'homeworld',\r\n\t'people',\r\n\t'pilots',\r\n\t'planets',\r\n\t'residents',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\nconst categories = [\r\n\t'films',\r\n\t'people',\r\n\t'planets',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\n\r\nconst idFromUrl = (url) => {\r\n\t// ** args: url<string>\r\n\t// ** return: id<string>\r\n\r\n\tif (typeof url === 'string') {\r\n\t\tconst [ term, id ] = url\r\n\t\t\t.replace('https://swapi.co/api/', '')\r\n\t\t\t.split('/');\r\n\r\n\t\treturn `${term}_${id}`;\r\n\t} else {\r\n\t\tconsole.log('url', url);\r\n\t\treturn url;\r\n\t}\r\n};\r\n\r\nconst extractIdsFromUrls = (urlsArray) => {\r\n\t// ** args: urls<array>\r\n\t// ** return: ids<array>\r\n\r\n\tif (Array.isArray(urlsArray)) {\r\n\t\treturn urlsArray.map((url) => idFromUrl(url));\r\n\t} else {\r\n\t\treturn [ idFromUrl(urlsArray) ];\r\n\t}\r\n};\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\nconst V4 = () => {\r\n\tconst [ term, setTerm ] = useState('');\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ dataId, setDataId ] = useState('');\r\n\tconst [ data, setData ] = useState({});\r\n\r\n\t// Basic mechanism:\r\n\t// Have initial display buttons\r\n\t// When buttons are clicked to show \"films\" page \"1\"\r\n\t// function looks at data\r\n\t// if data does not have the required data it fetches it\r\n\t// if data has required data it sends it back for render\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tlet count;\r\n\t\t\tlet pageIds = [];\r\n\t\t\tlet results;\r\n\t\t\tlet newTermObject = {};\r\n\r\n\t\t\tif (term === '' || page === 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\t\t\tdata[term].hasOwnProperty(`page_${page}`)\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\t// set count and results from allData\r\n\t\t\t\t// if (term !== '' && page !== 0) {\r\n\r\n\t\t\t\t// *****\r\n\t\t\t\t// Here allData is used in place of fetching data\r\n\t\t\t\t//\r\n\t\t\t\t// This will need to be replaced with useSwApi hook\r\n\t\t\t\t//\r\n\t\t\t\tcount = allData[term].count;\r\n\t\t\t\tresults = allData[term][page];\r\n\t\t\t\t//\r\n\t\t\t\t// *****\r\n\r\n\t\t\t\t// results are in... Now set url data as ids\r\n\t\t\t\tresults.forEach((result) => {\r\n\t\t\t\t\tconst termId = idFromUrl(result.url);\r\n\r\n\t\t\t\t\tObject.keys(result).forEach((keyInResult) => {\r\n\t\t\t\t\t\t// extract url-containing data first\r\n\t\t\t\t\t\tif (urlCatsByTerm.includes(keyInResult)) {\r\n\t\t\t\t\t\t\t// extract urls from list\r\n\t\t\t\t\t\t\tlet idsFromUrls = [ 'n/a' ];\r\n\t\t\t\t\t\t\tif (result[keyInResult]) {\r\n\t\t\t\t\t\t\t\tidsFromUrls = extractIdsFromUrls(\r\n\t\t\t\t\t\t\t\t\tresult[keyInResult]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// set data to newTermObject &\r\n\t\t\t\t\t\t\tnewTermObject[termId] = {\r\n\t\t\t\t\t\t\t\t...newTermObject[termId]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tnewTermObject[termId][keyInResult] = idsFromUrls;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// and set non-url data as ids\r\n\t\t\t\t\t\t\tnewTermObject[termId] = {\r\n\t\t\t\t\t\t\t\t...newTermObject[termId]\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tnewTermObject[termId][keyInResult] =\r\n\t\t\t\t\t\t\t\tresult[keyInResult];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tpageIds.push(termId);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetData((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[term]: {\r\n\t\t\t\t\t\t...prev[term],\r\n\t\t\t\t\t\tcount: count,\r\n\t\t\t\t\t\t[`page_${page}`]: [ ...pageIds ],\r\n\t\t\t\t\t\t...newTermObject\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ term, page, data ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (dataId === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst setByDataId = ({ dataId, data, dataTerm }) => {\r\n\t\t\t\t// setter function simply takes the data and sets it in state\r\n\t\t\t\t// with appropriate checks...\r\n\t\t\t\t// console.log('dataId, data, dataTerm', dataId, data, dataTerm);\r\n\r\n\t\t\t\tlet newTermObject = {};\r\n\r\n\t\t\t\tObject.keys(data).forEach((keyInResult) => {\r\n\t\t\t\t\t// extract url-containing data first\r\n\t\t\t\t\tif (urlCatsByTerm.includes(keyInResult)) {\r\n\t\t\t\t\t\t// extract urls from list\r\n\t\t\t\t\t\tlet idsFromUrls = [ 'unknown' ];\r\n\t\t\t\t\t\tif (!data[keyInResult]) {\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'keyInResult',\r\n\t\t\t\t\t\t\t\tkeyInResult,\r\n\t\t\t\t\t\t\t\tdata[keyInResult]\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'dataId, data, dataTerm',\r\n\t\t\t\t\t\t\t\tdataId,\r\n\t\t\t\t\t\t\t\tdata,\r\n\t\t\t\t\t\t\t\tdataTerm\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tidsFromUrls = extractIdsFromUrls(data[keyInResult]);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// set data to newTermObject &\r\n\t\t\t\t\t\tnewTermObject[dataId] = {\r\n\t\t\t\t\t\t\t...newTermObject[dataId]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnewTermObject[dataId][keyInResult] = idsFromUrls;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// and set non-url data as ids\r\n\t\t\t\t\t\tnewTermObject[dataId] = {\r\n\t\t\t\t\t\t\t...newTermObject[dataId]\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tnewTermObject[dataId][keyInResult] = data[keyInResult];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Data set here\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetData((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t[dataTerm]: {\r\n\t\t\t\t\t\t\t...prev[dataTerm],\r\n\t\t\t\t\t\t\t...newTermObject\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\t}, 2000);\r\n\t\t\t};\r\n\r\n\t\t\t// Call starts here ////////////////////////////////////////\r\n\t\t\tif (\r\n\t\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\t\tdata[term].hasOwnProperty(dataId)\r\n\t\t\t) {\r\n\t\t\t\tlet idsToFetch = [];\r\n\r\n\t\t\t\tconst currentDetail = data[term][dataId];\r\n\t\t\t\tObject.keys(currentDetail).forEach((detailKey) => {\r\n\t\t\t\t\tif (urlCatsByTerm.includes(detailKey)) {\r\n\t\t\t\t\t\tlet ids = currentDetail[detailKey];\r\n\t\t\t\t\t\tconsole.log('ids', ids);\r\n\t\t\t\t\t\tids.forEach((id) => {\r\n\t\t\t\t\t\t\tif (id !== 'n/a') {\r\n\t\t\t\t\t\t\t\tconst [ idTerm ] = id.split('_');\r\n\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t!(\r\n\t\t\t\t\t\t\t\t\t\tdata.hasOwnProperty(idTerm) &&\r\n\t\t\t\t\t\t\t\t\t\tdata[idTerm].hasOwnProperty(id)\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\tidsToFetch.push({ id, idTerm });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log('id', id);\r\n\t\t\t\t\t\t\t\tconsole.log('currentDetail', currentDetail);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// fetch ids\r\n\t\t\t\tidsToFetch.forEach((inId) => {\r\n\t\t\t\t\tconst { id, idTerm } = inId;\r\n\r\n\t\t\t\t\t// *****\r\n\t\t\t\t\t// Here allData is used in place of fetching data\r\n\t\t\t\t\t//\r\n\t\t\t\t\tObject.keys(allData[idTerm]).forEach((page) => {\r\n\t\t\t\t\t\tif (page === Number.parseInt(page, 10).toString()) {\r\n\t\t\t\t\t\t\tallData[idTerm][page].forEach((item) => {\r\n\t\t\t\t\t\t\t\tconst itemId = idFromUrl(item.url);\r\n\t\t\t\t\t\t\t\tif (itemId === id) {\r\n\t\t\t\t\t\t\t\t\t// We have now found the single item result as\r\n\t\t\t\t\t\t\t\t\t// it would come from API\r\n\r\n\t\t\t\t\t\t\t\t\t// send the data to a setter function\r\n\t\t\t\t\t\t\t\t\tsetByDataId({\r\n\t\t\t\t\t\t\t\t\t\tdataId: id,\r\n\t\t\t\t\t\t\t\t\t\tdata: item,\r\n\t\t\t\t\t\t\t\t\t\tdataTerm: idTerm\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// *****\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// console.log('just finished writing url data...');\r\n\t\t},\r\n\t\t[ dataId, data, term ]\r\n\t);\r\n\r\n\tconst getTerms = (term) => {\r\n\t\tsetTerm(term);\r\n\t\tsetPage(1);\r\n\t\tsetDataId('');\r\n\t};\r\n\r\n\tconst getPage = (page) => {\r\n\t\tsetPage(page);\r\n\t};\r\n\r\n\tconst changeId = (changeToId) => {\r\n\t\tsetDataId(changeToId);\r\n\t};\r\n\r\n\tconst renderTerms = () => {\r\n\t\treturn categories.map((cat) => {\r\n\t\t\treturn <div onClick={() => getTerms(cat)}>{cat}</div>;\r\n\t\t});\r\n\t};\r\n\r\n\tconst renderPreparedDetail = (inObj) => {\r\n\t\t// console.log('in renderPreparedDetail...');\r\n\r\n\t\tconst keyConvert = [ 'pilots', 'residents', 'characters' ];\r\n\r\n\t\tlet singles = [];\r\n\t\tlet arrays = [];\r\n\r\n\t\tObject.keys(inObj).forEach((keyInObj) => {\r\n\t\t\tif ([ 'created', 'edited', 'url' ].includes(keyInObj)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (keyInObj === 'name') {\r\n\t\t\t\tsingles.unshift({ [keyInObj]: inObj[keyInObj] });\r\n\t\t\t} else if (urlCatsByTerm.includes(keyInObj)) {\r\n\t\t\t\tlet dataKey = keyInObj;\r\n\t\t\t\tif (keyConvert.includes(keyInObj)) {\r\n\t\t\t\t\tdataKey = 'people';\r\n\t\t\t\t}\r\n\t\t\t\tif (keyInObj === 'homeworld') {\r\n\t\t\t\t\tdataKey = 'planets';\r\n\t\t\t\t}\r\n\t\t\t\tlet arrayItems = inObj[keyInObj];\r\n\t\t\t\tlet returnItems = [];\r\n\t\t\t\tarrayItems.forEach((item) => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tdata.hasOwnProperty(dataKey) &&\r\n\t\t\t\t\t\tdata[dataKey].hasOwnProperty(item)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tlet itemName = data[dataKey][item].name;\r\n\t\t\t\t\t\treturnItems.push({ name: itemName, id: item });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturnItems.push({ name: '', id: item });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tarrays.push({ [keyInObj]: [ ...returnItems ] });\r\n\t\t\t} else {\r\n\t\t\t\tsingles.push({ [keyInObj]: inObj[keyInObj] });\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn [ ...singles, ...arrays ];\r\n\t};\r\n\r\n\tconst renderMenu = () => {\r\n\t\tif (\r\n\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\tdata[term].hasOwnProperty(`page_${page}`) &&\r\n\t\t\tObject.keys(data[term]).length > 0\r\n\t\t) {\r\n\t\t\tlet termsArray = [];\r\n\t\t\tlet pageIdsArray = data[term][`page_${page}`];\r\n\t\t\tpageIdsArray.forEach((pageId) => {\r\n\t\t\t\tif (pageId.includes(term)) {\r\n\t\t\t\t\ttermsArray.push({\r\n\t\t\t\t\t\tpageId: pageId,\r\n\t\t\t\t\t\tpage: page,\r\n\t\t\t\t\t\tname: data[term][pageId].name\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{termsArray.map((el) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div onClick={() => changeId(el.pageId)}>\r\n\t\t\t\t\t\t\t\t{el.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tPages:\r\n\t\t\t\t\t{renderPageLinks(data[term].count)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderPageLinks = (pageCount) => {\r\n\t\tlet pages = Math.ceil((pageCount + 1) / 10);\r\n\t\tlet pageLinksArray = [];\r\n\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\tpageLinksArray.push({ page: i, display: `${i}` });\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{pageLinksArray.map((link) => (\r\n\t\t\t\t\t<span onClick={() => getPage(link.page)}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t{link.display}{' '}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderDetail = () => {\r\n\t\tif (\r\n\t\t\tdata.hasOwnProperty(term) &&\r\n\t\t\tdata[term].hasOwnProperty(dataId) &&\r\n\t\t\tObject.keys(data[term][dataId]).length > 0\r\n\t\t) {\r\n\t\t\tlet detailData = data[term][dataId];\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{renderPreparedDetail(detailData).map((el) => {\r\n\t\t\t\t\t\t\t// el is an object\r\n\r\n\t\t\t\t\t\t\tif (Array.isArray(Object.values(el)[0])) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"v4_keyValBox\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"v4_left\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(el)[0]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"v4_right\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(el).map((val) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn el[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tval\r\n\t\t\t\t\t\t\t\t\t\t\t\t].map((valInside) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalInside.name ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'visible'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'hidden'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'needs a handler...'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{valInside.name ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'...'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"v4_keyValBox\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"v4_left\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Object.keys(el)[0]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"v4_right\">\r\n\t\t\t\t\t\t\t\t\t\t\t{Object.values(el)[0]}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"v4_page\">\r\n\t\t\t<StarWarsLogo className=\"v4_swLogo\" />\r\n\r\n\t\t\t<div className=\"v4_content\">\r\n\t\t\t\t<div className=\"v4_terms\">{renderTerms()}</div>\r\n\t\t\t\t<div className=\"v4_menu\">{renderMenu()}</div>\r\n\t\t\t\t<div className=\"v4_detail\">{renderDetail()}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default V4;\r\n","function memoize(fn) {\r\n\tconst cache = {};\r\n\treturn async function(...args) {\r\n\t\tif (cache[args] && !cache[args].hasOwnProperty('error')) {\r\n\t\t\treturn cache[args];\r\n\t\t}\r\n\r\n\t\tconst result = await fn.apply(this, args);\r\n\t\tcache[args] = result;\r\n\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction checkResponse(resp) {\r\n\tif (!resp.ok) {\r\n\t\tconst { status, statusText } = resp;\r\n\t\tconst errorToReturn = new Error();\r\n\t\terrorToReturn.name = `${status}`;\r\n\t\terrorToReturn.message = `${statusText}`;\r\n\r\n\t\tthrow errorToReturn;\r\n\t}\r\n\treturn resp;\r\n}\r\n\r\nasync function fetchAPI(param) {\r\n\ttry {\r\n\t\tconst headers = new Headers();\r\n\t\theaders.append('Content-type', 'application/json');\r\n\t\theaders.append('Accept', 'application/json');\r\n\r\n\t\tconst resp = await fetch(param, { headers });\r\n\t\tconst checkedResp = await checkResponse(resp);\r\n\t\tconst json = await checkedResp.json();\r\n\r\n\t\treturn { data: json };\r\n\t} catch (error) {\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport const memoizedFetch = memoize(fetchAPI);\r\n","export function getItemId(category, itemNumber) {\r\n\treturn `${category}_${itemNumber}`;\r\n}\r\n\r\nexport function getUrlInfo(url) {\r\n\tconst [ category, idNumber ] = url\r\n\t\t.replace('https://swapi.co/api/', '')\r\n\t\t.split('/');\r\n\treturn [ category, idNumber ];\r\n}\r\n\r\nexport function singleReducer(\r\n\tprev,\r\n\t{ category, itemNumber, isFetching, error, data }\r\n) {\r\n\tconst itemId = getItemId(category, itemNumber);\r\n\r\n\tconst newItem = {\r\n\t\t...prev[category].items[itemId]\r\n\t};\r\n\r\n\tif (isFetching === true || isFetching === false) {\r\n\t\tnewItem.isFetching = isFetching;\r\n\t}\r\n\tif (error) {\r\n\t\tconsole.log('error (in singleReducer)', error);\r\n\t\tnewItem.error = error;\r\n\t}\r\n\tif (data) {\r\n\t\tnewItem.data = data;\r\n\t}\r\n\r\n\treturn {\r\n\t\t...prev,\r\n\t\t[category]: {\r\n\t\t\t...prev[category],\r\n\t\t\titems: {\r\n\t\t\t\t...prev[category].items,\r\n\t\t\t\t[itemId]: newItem\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function initialSingle(prev, data) {\r\n\tconst { category, itemNumber } = data;\r\n\tconst itemId = getItemId(category, itemNumber);\r\n\tconst initialObj = {\r\n\t\tdata: '',\r\n\t\terror: '',\r\n\t\tisFetching: false\r\n\t};\r\n\r\n\t// Check for itemId was made before function call\r\n\t// Return a new data object with itemId initialized\r\n\treturn {\r\n\t\t...prev,\r\n\t\t[category]: {\r\n\t\t\t...prev[category],\r\n\t\t\titems: {\r\n\t\t\t\t...prev[category].items,\r\n\t\t\t\t[itemId]: initialObj\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n","import { memoizedFetch } from '../helpers/api';\r\nimport { singleReducer } from './reducers';\r\nimport { getUrlInfo } from './reducers';\r\n\r\nconst BASE_URL = 'https://swapi.co/api/';\r\n\r\nfunction handleResults(data) {\r\n\tconst [ category ] = getUrlInfo(data.data.url);\r\n\r\n\tif (category === 'films') {\r\n\t\tconst dataWithName = { ...data.data };\r\n\t\tdataWithName.name = data.data.title;\r\n\r\n\t\treturn dataWithName;\r\n\t}\r\n\r\n\treturn data.data;\r\n}\r\n\r\n// fetch data from api\r\nexport const fetchData = async (setData, { category, itemNumber }) => {\r\n\t// Set isFetching to true\r\n\tsetData((prev) =>\r\n\t\tsingleReducer(prev, {\r\n\t\t\tcategory,\r\n\t\t\titemNumber,\r\n\t\t\tisFetching: true,\r\n\t\t\terror: ''\r\n\t\t})\r\n\t);\r\n\r\n\tconst url = `${BASE_URL}${category}/${itemNumber}/`;\r\n\r\n\tconst config = {\r\n\t\tmethod: 'get',\r\n\t\theaders: {\r\n\t\t\tAccept: 'application/json, text/plain, */*'\r\n\t\t}\r\n\t};\r\n\r\n\ttry {\r\n\t\tconst data = await memoizedFetch(url, config);\r\n\r\n\t\t// ... results handler would go here if needed\r\n\t\tconst checkedData = handleResults(data);\r\n\r\n\t\tsetData((prev) =>\r\n\t\t\tsingleReducer(prev, {\r\n\t\t\t\tcategory,\r\n\t\t\t\titemNumber,\r\n\t\t\t\tdata: checkedData\r\n\t\t\t})\r\n\t\t);\r\n\t} catch (error) {\r\n\t\tsetData((prev) =>\r\n\t\t\tsingleReducer(prev, {\r\n\t\t\t\tcategory,\r\n\t\t\t\titemNumber,\r\n\t\t\t\terror: JSON.stringify(error)\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\t// Set isFetching back to false\r\n\tsetData((prev) =>\r\n\t\tsingleReducer(prev, {\r\n\t\t\tcategory,\r\n\t\t\titemNumber,\r\n\t\t\tisFetching: false\r\n\t\t})\r\n\t);\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { fetchData } from './fetchSingle';\r\nimport { getItemId, initialSingle } from './reducers';\r\n\r\nconst initialDataState = {\r\n\tfilms: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t},\r\n\tpeople: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t},\r\n\tplanets: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t},\r\n\tspecies: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t},\r\n\tstarships: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t},\r\n\tvehicles: {\r\n\t\tcount: 0,\r\n\t\tpages: {},\r\n\t\titems: {}\r\n\t}\r\n};\r\n\r\nconst useSwApi = () => {\r\n\tconst [ data, setData ] = useState(initialDataState);\r\n\tconst [ requestForSingles, setRequestForSingles ] = useState([]);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\t// Sync with requestForSingles stuff\r\n\r\n\t\t\t// Iterate through array to initalize requests\r\n\t\t\trequestForSingles.forEach((req) => {\r\n\t\t\t\tconst { category, itemNumber } = req;\r\n\t\t\t\tconst itemId = getItemId(category, itemNumber);\r\n\r\n\t\t\t\t// Check that data does not have itemId object already\r\n\t\t\t\tif (!data[category].items.hasOwnProperty(itemId)) {\r\n\t\t\t\t\t// Doesn't have item object yet so initialize one\r\n\t\t\t\t\tsetData((prev) => initialSingle(prev, req));\r\n\r\n\t\t\t\t\t// Then call the singles api function\r\n\t\t\t\t\tfetchData(setData, { category, itemNumber });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ requestForSingles, data ]\r\n\t);\r\n\r\n\treturn [ data, setRequestForSingles ];\r\n};\r\n\r\nexport default useSwApi;\r\n","import React, { useState, useEffect } from 'react';\r\nimport useSwApi from '../hooks/useSwApi';\r\nimport allIdsArray from '../helpers/allIdsArray.json';\r\n\r\nimport './V5.css';\r\nconst uuid = require('uuid/v4');\r\n\r\nconst V5 = () => {\r\n\tconst [ listSingles, setListSingles ] = useState([]);\r\n\tconst [ data, setRequestForSingles ] = useSwApi();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (Object.keys(listSingles).length > 0) {\r\n\t\t\t\tsetRequestForSingles(listSingles);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ listSingles, setRequestForSingles ]\r\n\t);\r\n\r\n\tconst renderSingle = (props) => {\r\n\t\t// *****\r\n\t\t//\r\n\t\t// singleData should be an object in data\r\n\t\t// one for every id\r\n\t\t// isFetching: false\r\n\t\t// error: '',\r\n\t\t// data: {}\r\n\t\t//\r\n\t\t// *****\r\n\r\n\t\tconst getSingleContent = () => {\r\n\t\t\tif (props) {\r\n\t\t\t\tconst { data: inData, error, isFetching } = props;\r\n\r\n\t\t\t\tif (isFetching === true) {\r\n\t\t\t\t\treturn <div>...loading...</div>;\r\n\t\t\t\t} else if (error && error !== '') {\r\n\t\t\t\t\treturn <div>Error: {error}</div>;\r\n\t\t\t\t} else if (inData && Object.keys(inData).length > 0) {\r\n\t\t\t\t\treturn <div>{inData.name}</div>;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn <div>Nothing to show yet...</div>;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn <div className=\"single\">{getSingleContent()}</div>;\r\n\t};\r\n\r\n\tfunction renderIdItem(inItem, inData) {\r\n\t\tconst { category: itemCat, idNumber: itemNum, id: itemId } = inItem;\r\n\t\tconst displayItem = inData[itemCat].items[itemId];\r\n\r\n\t\t// if relevant data is in inData\r\n\t\tif (inData[itemCat].items.hasOwnProperty(itemId)) {\r\n\t\t\t// use inData in return\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={uuid()}\r\n\t\t\t\t\tclassName=\"v5_single-item\"\r\n\t\t\t\t\tonClick={() => console.log('inItem', inItem)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{renderSingle(displayItem)}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\t// else use inItem in return\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={uuid()}\r\n\t\t\t\t\tclassName=\"v5_single-item\"\r\n\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\tsetListSingles([\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tcategory: itemCat,\r\n\t\t\t\t\t\t\t\titemNumber: itemNum\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t])}\r\n\t\t\t\t>\r\n\t\t\t\t\t{inItem.idNumber}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction renderNumberButtons(inArray) {\r\n\t\treturn inArray.map((cat) => {\r\n\t\t\tlet catName = cat[0].category;\r\n\t\t\treturn (\r\n\t\t\t\t<div key={uuid()}>\r\n\t\t\t\t\t<div>{catName}</div>\r\n\t\t\t\t\t<div className=\"v5_singles-box\">\r\n\t\t\t\t\t\t{cat.map((idItem) => renderIdItem(idItem, data))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>Fetching single items</div>\r\n\t\t\t{renderNumberButtons(allIdsArray)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default V5;\r\n","import React, { useState } from 'react';\n\nimport Intro from '../Intro/Intro';\nimport V1 from '../v1/v1/V1';\nimport V2 from '../v2/v2/V2';\nimport V3 from '../v3/v3/V3';\nimport V4 from '../v4/v4/V4';\nimport V5 from '../v5/v5/V5';\n\nimport './App.css';\n\nfunction App() {\n\tconst [ version, setVersion ] = useState('0');\n\n\tconst handleChange = (e) => {\n\t\tsetVersion(e.target.value);\n\t};\n\n\treturn (\n\t\t<div className=\"app\">\n\t\t\t{/* <div className=\"select\"> */}\n\t\t\t<select className=\"select\" value={version} onChange={handleChange}>\n\t\t\t\t<option value=\"0\">start</option>\n\t\t\t\t<option value=\"1\">version 1</option>\n\t\t\t\t<option value=\"2\">version 2</option>\n\t\t\t\t<option value=\"3\">version 3</option>\n\t\t\t\t<option value=\"4\">version 4</option>\n\t\t\t\t<option value=\"5\">version 5</option>\n\t\t\t</select>\n\t\t\t{/* </div> */}\n\n\t\t\t{version === '0' && <Intro setVersion={setVersion} />}\n\t\t\t{version === '1' && <V1 />}\n\t\t\t{version === '2' && <V2 setVersion={setVersion} />}\n\t\t\t{version === '3' && <V3 setVersion={setVersion} />}\n\t\t\t{version === '4' && <V4 setVersion={setVersion} />}\n\t\t\t{version === '5' && <V5 setVersion={setVersion} />}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}