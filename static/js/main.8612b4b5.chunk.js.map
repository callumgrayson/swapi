{"version":3,"sources":["img/lightsaber_blue2.png","img/Star_Wars_Logo.svg","helpers/api.js","helpers/apiController.js","components/Detail/Detail.js","components/Loader/Loader.js","components/Error/Error.js","components/PageLinks/PageLinks.js","components/List/List.js","components/Results/Results.js","components/App/App.js","index.js"],"names":["module","exports","checkResponse","resp","ok","status","statusText","errorToReturn","Error","name","message","param","a","headers","Headers","append","fetch","checkedResp","json","data","error","memoizedFetch","fn","cache","args","hasOwnProperty","apply","this","result","memoize","categories","apiController","params","searchTerm","searchPage","url","Promise","resolve","reject","results","dataWithNames","JSON","parse","stringify","item","title","push","sort","b","episode_id","uuid","require","Detail","props","detailObj","detail","className","Object","keys","map","key","handleValue","val","Array","isArray","vals","k","Loader","src","ligthsaber","alt","errorDisplay","resetAction","onClick","PageLinks","linksArray","link","clickHandler","style","color","matchColor","display","List","list","Fragment","id","Results","count","page","fetching","setError","term","showDetailHandler","searchHandler","renderContent","toUpperCase","slice","listExtended","constants","SW_COLOR","renderList","linkCount","linkPagesNeeded","Math","ceil","i","renderPageLinks","App","useState","setData","setCount","setPage","setDetail","setFetching","setTerm","handleSearch","undefined","toString","errStr","starWarsLogo","cat","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8612b4b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/lightsaber_blue2.02916d98.png\";","module.exports = __webpack_public_path__ + \"static/media/Star_Wars_Logo.0a12a758.svg\";","function memoize(fn) {\r\n\tconst cache = {};\r\n\treturn async function(...args) {\r\n\t\tif (cache[args] && !cache[args].hasOwnProperty('error')) {\r\n\t\t\treturn cache[args];\r\n\t\t}\r\n\r\n\t\tconst result = await fn.apply(this, args);\r\n\t\tcache[args] = result;\r\n\r\n\t\treturn result;\r\n\t};\r\n}\r\n\r\nfunction checkResponse(resp) {\r\n\tif (!resp.ok) {\r\n\t\tconst { status, statusText } = resp;\r\n\t\tconst errorToReturn = new Error();\r\n\t\terrorToReturn.name = `${status}`;\r\n\t\terrorToReturn.message = `${statusText}`;\r\n\r\n\t\tthrow errorToReturn;\r\n\t}\r\n\treturn resp;\r\n}\r\n\r\nasync function fetchAPI(param) {\r\n\ttry {\r\n\t\tconst headers = new Headers();\r\n\t\theaders.append('Content-type', 'application/json');\r\n\t\theaders.append('Accept', 'application/json');\r\n\r\n\t\tconst resp = await fetch(param, { headers });\r\n\t\tconst checkedResp = await checkResponse(resp);\r\n\t\tconst json = await checkedResp.json();\r\n\r\n\t\treturn { data: json };\r\n\t} catch (error) {\r\n\t\treturn { error };\r\n\t}\r\n}\r\n\r\nexport const memoizedFetch = memoize(fetchAPI);\r\n","import { memoizedFetch } from './api';\r\n\r\nconst BASE_URL = 'https://swapi.co/api/';\r\n\r\nexport const categories = [\r\n\t'films',\r\n\t'people',\r\n\t'planets',\r\n\t'species',\r\n\t'starships',\r\n\t'vehicles'\r\n];\r\n\r\nconst apiController = async (params) => {\r\n\tconst { searchTerm, searchPage } = params;\r\n\tconst url = `${BASE_URL}${searchTerm}/?page=${searchPage}`;\r\n\r\n\treturn new Promise(async (resolve, reject) => {\r\n\t\tconst data = await memoizedFetch(url);\r\n\t\tlet results = data.data.results;\r\n\t\tif (results[0].hasOwnProperty('name')) {\r\n\t\t\tresolve(data);\r\n\t\t} else {\r\n\t\t\tlet dataWithNames = JSON.parse(JSON.stringify(data));\r\n\t\t\tdataWithNames.data.results = [];\r\n\t\t\tfor (let item of results) {\r\n\t\t\t\titem['name'] = item.title;\r\n\t\t\t\tdataWithNames.data.results.push(item);\r\n\t\t\t}\r\n\t\t\tdataWithNames.data.results.sort(\r\n\t\t\t\t(a, b) => a.episode_id - b.episode_id\r\n\t\t\t);\r\n\t\t\tresolve(dataWithNames);\r\n\t\t}\r\n\t});\r\n};\r\n\r\nexport default apiController;\r\n","import React from 'react';\r\nimport './Detail.css';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nfunction handleValue(val) {\r\n\t// Handle strings & numbers\r\n\tif (typeof val === 'string' || typeof val === 'number') {\r\n\t\treturn val;\r\n\t}\r\n\r\n\t// Handle arrays\r\n\tif (Array.isArray(val)) {\r\n\t\tconst vals = [];\r\n\r\n\t\tfor (let item of val) {\r\n\t\t\tvals.push(handleValue(item));\r\n\t\t}\r\n\r\n\t\treturn <div>{vals.map((k) => <div key={uuid()}>{k}</div>)}</div>;\r\n\t}\r\n\r\n\t// Handle all other types\r\n\treturn JSON.stringify(val);\r\n}\r\n\r\nconst Detail = (props) => {\r\n\tconst detailObj = props.detail;\r\n\r\n\treturn (\r\n\t\t<div className=\"detail-box\">\r\n\t\t\t<h2>{detailObj['name']}</h2>\r\n\t\t\t<div className=\"columnsBox\">\r\n\t\t\t\t<div className=\"columns\">\r\n\t\t\t\t\t{detailObj &&\r\n\t\t\t\t\t\tObject.keys(detailObj).map((key) => (\r\n\t\t\t\t\t\t\t<div key={uuid()} className=\"keyValBox\">\r\n\t\t\t\t\t\t\t\t<div className=\"col detailKey\">{key}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col detailValue\">\r\n\t\t\t\t\t\t\t\t\t{handleValue(detailObj[key])}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Detail;\r\n","import React from 'react';\r\n\r\nimport './Loader.css';\r\n\r\nimport ligthsaber from '../../img/lightsaber_blue2.png';\r\n\r\nconst Loader = () => (\r\n\t<div className=\"loader-box\">\r\n\t\t<img className=\"lightsaber\" src={ligthsaber} alt=\"Lightsaber blue\" />\r\n\t</div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport './Error.css';\r\n\r\nconst Error = ({ errorDisplay, resetAction }) => {\r\n\treturn (\r\n\t\t<div className=\"error\">\r\n\t\t\t<div>Encountered an error:</div>\r\n\t\t\t<div>{`${errorDisplay}`}</div>\r\n\t\t\t<button className=\"reset-button\" onClick={resetAction}>\r\n\t\t\t\tContinue\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Error;\r\n","import React from 'react';\r\n\r\nconst PageLinks = ({ linksArray }) => {\r\n\treturn (\r\n\t\t<div className=\"links\">\r\n\t\t\t{linksArray.map((link) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={link.key}\r\n\t\t\t\t\tclassName=\"page-link\"\r\n\t\t\t\t\tonClick={link.clickHandler}\r\n\t\t\t\t\tstyle={{ color: link.matchColor }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{link.display}\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PageLinks;\r\n","import React from 'react';\r\nimport './List.css';\r\n\r\nconst List = ({ list }) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{list.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={item.id}>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName=\"list-item\"\r\n\t\t\t\t\t\t\tonClick={item.clickHandler}\r\n\t\t\t\t\t\t\tstyle={{ color: `${item.color}` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.display}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport Error from '../Error/Error';\r\nimport PageLinks from '../PageLinks/PageLinks';\r\nimport List from '../List/List';\r\nimport './Results.css';\r\n\r\nimport constants from '../../constants.json';\r\n\r\nconst uuid = require('uuid/v4');\r\n\r\nconst Results = (props) => {\r\n\tconst {\r\n\t\tdata,\r\n\t\tcount,\r\n\t\tpage,\r\n\t\tfetching,\r\n\t\terror,\r\n\t\tsetError,\r\n\t\tterm,\r\n\t\tshowDetailHandler,\r\n\t\tsearchHandler,\r\n\t\tdetail\r\n\t} = props;\r\n\r\n\tconst renderPageLinks = (linkCount) => {\r\n\t\tlet linksArray = [];\r\n\r\n\t\tconst linkPagesNeeded = Math.ceil(linkCount / 10) || 1;\r\n\r\n\t\tfor (let i = 1; i <= linkPagesNeeded; i++) {\r\n\t\t\tlinksArray.push({\r\n\t\t\t\tkey: uuid(),\r\n\t\t\t\tdisplay: i,\r\n\t\t\t\tsearchTerm: term,\r\n\t\t\t\tmatchColor: i === page && constants.SW_COLOR,\r\n\t\t\t\tclickHandler: () =>\r\n\t\t\t\t\tsearchHandler({\r\n\t\t\t\t\t\tsearchPage: i,\r\n\t\t\t\t\t\tsearchTerm: term\r\n\t\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn <PageLinks linksArray={linksArray} />;\r\n\t};\r\n\r\n\tconst renderError = () => (\r\n\t\t<Error errorDisplay={error} resetAction={() => setError('')} />\r\n\t);\r\n\r\n\tconst renderFetching = () => <Loader />;\r\n\r\n\tconst renderList = () => {\r\n\t\tconst listExtended = data.results.map((item) => {\r\n\t\t\tconst id = uuid();\r\n\t\t\tconst clickHandler = () => showDetailHandler(item.name);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid,\r\n\t\t\t\tdisplay: item.name,\r\n\t\t\t\tclickHandler: clickHandler,\r\n\t\t\t\tcolor: `${item.name === detail.name && constants.SW_COLOR}`\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\treturn <List list={listExtended} />;\r\n\t};\r\n\r\n\tconst renderContent = () => (\r\n\t\t<div className=\"content\">\r\n\t\t\t{data.results && (\r\n\t\t\t\t<div className=\"results-heading\">\r\n\t\t\t\t\t<h2>{term[0].toUpperCase() + term.slice(1)}</h2>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<div className=\"results-items\">\r\n\t\t\t\t{fetching && renderFetching()}\r\n\t\t\t\t{!fetching && data.results && renderList()}\r\n\t\t\t</div>\r\n\r\n\t\t\t{data.results && (\r\n\t\t\t\t<div className=\"page-links\">{renderPageLinks(count)}</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n\r\n\tconst renderResults = () => {\r\n\t\tif (error) {\r\n\t\t\treturn renderError();\r\n\t\t} else {\r\n\t\t\treturn renderContent();\r\n\t\t}\r\n\t};\r\n\r\n\treturn <div className=\"results\">{renderResults()}</div>;\r\n};\r\n\r\nexport default Results;\r\n","import React, { useState } from 'react';\nimport apiController, { categories } from '../../helpers/apiController';\nimport Detail from '../Detail/Detail';\nimport Results from '../Results/Results';\nimport Loader from '../Loader/Loader';\n\nimport starWarsLogo from '../../img/Star_Wars_Logo.svg';\nimport './App.css';\n\nconst uuid = require('uuid/v4');\n\nfunction App() {\n\tconst [ data, setData ] = useState([]);\n\tconst [ count, setCount ] = useState(0);\n\tconst [ page, setPage ] = useState(1);\n\tconst [ detail, setDetail ] = useState({});\n\tconst [ fetching, setFetching ] = useState(false);\n\tconst [ error, setError ] = useState('');\n\tconst [ term, setTerm ] = useState('');\n\n\tconst handleSearch = async (params) => {\n\t\tconst { searchTerm, searchPage } = params;\n\t\tsetFetching(true);\n\n\t\ttry {\n\t\t\tconst data = await apiController(params);\n\t\t\tif (searchTerm !== undefined) {\n\t\t\t\tsetTerm(searchTerm);\n\t\t\t}\n\n\t\t\tif (data.hasOwnProperty('data')) {\n\t\t\t\tsetData(data.data);\n\n\t\t\t\tif (searchPage !== undefined) {\n\t\t\t\t\tsetPage(searchPage);\n\t\t\t\t}\n\n\t\t\t\tif (data.data.hasOwnProperty('count')) {\n\t\t\t\t\tsetCount(data.data.count);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (data.hasOwnProperty('error')) {\n\t\t\t\tsetError(data.error.toString());\n\t\t\t}\n\t\t\tsetFetching(false);\n\t\t} catch (error) {\n\t\t\tconst errStr = JSON.stringify(error);\n\t\t\tsetError(errStr);\n\t\t}\n\t};\n\n\tfunction showDetail(name) {\n\t\tfor (let res of data.results) {\n\t\t\tif (res.name === name) {\n\t\t\t\tsetDetail(res);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header>\n\t\t\t\t<div className=\"star-wars\">\n\t\t\t\t\t<img src={starWarsLogo} alt=\"Star Wars Logo\" />\n\t\t\t\t</div>\n\n\t\t\t\t{categories.map((cat) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"search-button\"\n\t\t\t\t\t\tkey={uuid()}\n\t\t\t\t\t\tid={cat}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\thandleSearch({ searchTerm: cat, searchPage: 1 })}\n\t\t\t\t\t\tstyle={{ color: `${cat === term && '#ffe82f'}` }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{`${cat[0].toUpperCase()}${cat.slice(1)}`}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</header>\n\t\t\t<div className=\"fetch-content\">\n\t\t\t\t{fetching && !data.results ? (\n\t\t\t\t\t<div className=\"loader-wrapper\">\n\t\t\t\t\t\t<Loader />\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Results\n\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\tcount={count}\n\t\t\t\t\t\t\tpage={page}\n\t\t\t\t\t\t\tfetching={fetching}\n\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\tterm={term}\n\t\t\t\t\t\t\tshowDetailHandler={showDetail}\n\t\t\t\t\t\t\tsearchHandler={handleSearch}\n\t\t\t\t\t\t\tsetError={setError}\n\t\t\t\t\t\t\tdetail={detail}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{JSON.stringify(detail) !== '{}' && (\n\t\t\t\t\t\t\t<Detail detail={detail} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n\n// data schema\n// const data = {\n// \tcategory1: {\n// \t\tpage1: [\n// \t\t\t{\n// \t\t\t\tprop1: '',\n// \t\t\t\tprop2: '',\n// \t\t\t\tprop3: ''\n// \t\t\t},\n// \t\t\t{\n// \t\t\t\tprop1: '',\n// \t\t\t\tprop2: '',\n// \t\t\t\tprop3: ''\n// \t\t\t},\n// \t\t\t{\n// \t\t\t\tprop1: '',\n// \t\t\t\tprop2: '',\n// \t\t\t\tprop3: ''\n// \t\t\t}\n// \t\t],\n// \t\tpage2: [\n// \t\t\t{\n// \t\t\t\tprop1: '',\n// \t\t\t\tprop2: '',\n// \t\t\t\tprop3: ''\n// \t\t\t}\n// \t\t]\n// \t},\n// \tcategory2: {\n// \t\tpage1: [\n// \t\t\t{\n// \t\t\t\tprop1: '',\n// \t\t\t\tprop2: '',\n// \t\t\t\tprop3: ''\n// \t\t\t}\n// \t\t]\n// \t}\n// };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}