(window.webpackJsonpswapi=window.webpackJsonpswapi||[]).push([[0],[,,,,,function(e){e.exports=JSON.parse('{"SW_COLOR":"#ffe82f"}')},,,function(e,t,a){e.exports=a.p+"static/media/lightsaber_blue2.02916d98.png"},function(e,t,a){e.exports=a.p+"static/media/Star_Wars_Logo.0a12a758.svg"},function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),s=a.n(c),l=(a(15),a(1)),i=a.n(l),o=a(2),u=a(3);function m(e){if(!e.ok){var t=e.status,a=e.statusText,r=new Error;throw r.name="".concat(t),r.message="".concat(a),r}return e}function p(){return(p=Object(o.a)(i.a.mark(function e(t){var a,r,n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-type","application/json"),a.append("Accept","application/json"),e.next=6,fetch(t,{headers:a});case 6:return r=e.sent,e.next=9,m(r);case 9:return n=e.sent,e.next=12,n.json();case 12:return c=e.sent,e.abrupt("return",{data:c});case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var f=function(e){var t={};return Object(o.a)(i.a.mark(function a(){var r,n,c,s,l=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=l.length,n=new Array(r),c=0;c<r;c++)n[c]=l[c];if(!t[n]||t[n].hasOwnProperty("error")){a.next=3;break}return a.abrupt("return",t[n]);case 3:return a.next=5,e.apply(this,n);case 5:return s=a.sent,t[n]=s,a.abrupt("return",s);case 8:case"end":return a.stop()}},a,this)}))}(function(e){return p.apply(this,arguments)}),d=["films","people","planets","species","starships","vehicles"],v=function(){var e=Object(o.a)(i.a.mark(function e(t){var a,r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchTerm,r=t.searchPage,n="".concat("https://swapi.co/api/").concat(a,"/?page=").concat(r),e.abrupt("return",new Promise(function(){var e=Object(o.a)(i.a.mark(function e(t,a){var r,c,s,l,o,u,m,p,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:if(r=e.sent,!(c=r.data.results)[0].hasOwnProperty("name")){e.next=8;break}t(r),e.next=31;break;case 8:for((s=JSON.parse(JSON.stringify(r))).data.results=[],l=!0,o=!1,u=void 0,e.prev=13,m=c[Symbol.iterator]();!(l=(p=m.next()).done);l=!0)(d=p.value).name=d.title,s.data.results.push(d);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),o=!0,u=e.t0;case 21:e.prev=21,e.prev=22,l||null==m.return||m.return();case 24:if(e.prev=24,!o){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(21);case 29:s.data.results.sort(function(e,t){return e.episode_id-t.episode_id}),t(s);case 31:case"end":return e.stop()}},e,null,[[13,17,21,29],[22,,24,28]])}));return function(t,a){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),h=(a(17),a(4));var y=function(e){var t=e.detail;return n.a.createElement("div",{className:"detail-box"},n.a.createElement("h2",null,t.name),n.a.createElement("div",{className:"columnsBox"},n.a.createElement("div",{className:"columns"},t&&Object.keys(t).map(function(e){return n.a.createElement("div",{key:h(),className:"keyValBox"},n.a.createElement("div",{className:"col detailKey"},e),n.a.createElement("div",{className:"col detailValue"},function e(t){if("string"===typeof t||"number"===typeof t)return t;if(Array.isArray(t)){var a=[],r=!0,c=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var o=l.value;a.push(e(o))}}catch(u){c=!0,s=u}finally{try{r||null==i.return||i.return()}finally{if(c)throw s}}return n.a.createElement("div",null,a.map(function(e){return n.a.createElement("div",{key:h()},e)}))}return JSON.stringify(t)}(t[e])))}))))},b=(a(20),a(8)),E=a.n(b),k=function(){return n.a.createElement("div",{className:"loader-box"},n.a.createElement("img",{className:"lightsaber",src:E.a,alt:"Lightsaber blue"}))},O=(a(21),function(e){var t=e.errorDisplay,a=e.resetAction;return n.a.createElement("div",{className:"error"},n.a.createElement("div",null,"Encountered an error:"),n.a.createElement("div",null,"".concat(t)),n.a.createElement("button",{className:"reset-button",onClick:a},"Continue"))}),w=function(e){var t=e.linksArray;return n.a.createElement("div",{className:"links"},t.map(function(e){return n.a.createElement("div",{key:e.key,className:"page-link",onClick:e.clickHandler,style:{color:e.matchColor}},e.display)}))},g=(a(22),function(e){var t=e.list;return n.a.createElement(n.a.Fragment,null,t.map(function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("span",{className:"list-item",onClick:e.clickHandler,style:{color:"".concat(e.color)}},e.display))}))}),x=(a(23),a(5)),N=a(4),j=function(e){var t=e.data,a=e.count,r=e.page,c=e.fetching,s=e.error,l=e.setError,i=e.term,o=e.showDetailHandler,u=e.searchHandler,m=e.detail,p=function(){return n.a.createElement("div",{className:"content"},t.results&&n.a.createElement("div",{className:"results-heading"},n.a.createElement("h2",null,i[0].toUpperCase()+i.slice(1))),n.a.createElement("div",{className:"results-items"},c&&n.a.createElement(k,null),!c&&t.results&&function(){var e=t.results.map(function(e){return{id:N(),display:e.name,clickHandler:function(){return o(e.name)},color:"".concat(e.name===m.name&&x.SW_COLOR)}});return n.a.createElement(g,{list:e})}()),t.results&&n.a.createElement("div",{className:"page-links"},function(e){for(var t=[],a=Math.ceil(e/10)||1,c=function(e){t.push({key:N(),display:e,searchTerm:i,matchColor:e===r&&x.SW_COLOR,clickHandler:function(){return u({searchPage:e,searchTerm:i})}})},s=1;s<=a;s++)c(s);return n.a.createElement(w,{linksArray:t})}(a)))};return n.a.createElement("div",{className:"results"},s?n.a.createElement(O,{errorDisplay:s,resetAction:function(){return l("")}}):p())},S=a(9),C=a.n(S),P=(a(24),a(4));var A=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(0),l=Object(u.a)(s,2),m=l[0],p=l[1],f=Object(r.useState)(1),h=Object(u.a)(f,2),b=h[0],E=h[1],O=Object(r.useState)({}),w=Object(u.a)(O,2),g=w[0],x=w[1],N=Object(r.useState)(!1),S=Object(u.a)(N,2),A=S[0],H=S[1],J=Object(r.useState)(""),_=Object(u.a)(J,2),L=_[0],T=_[1],W=Object(r.useState)(""),D=Object(u.a)(W,2),B=D[0],R=D[1],F=function(){var e=Object(o.a)(i.a.mark(function e(t){var a,r,n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchTerm,r=t.searchPage,H(!0),e.prev=2,e.next=5,v(t);case 5:n=e.sent,void 0!==a&&R(a),n.hasOwnProperty("data")&&(c(n.data),void 0!==r&&E(r),n.data.hasOwnProperty("count")&&p(n.data.count)),n.hasOwnProperty("error")&&T(n.error.toString()),H(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=JSON.stringify(e.t0),T(s);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("div",{className:"star-wars"},n.a.createElement("img",{src:C.a,alt:"Star Wars Logo"})),d.map(function(e){return n.a.createElement("button",{className:"search-button",key:P(),id:e,onClick:function(){return F({searchTerm:e,searchPage:1})},style:{color:"".concat(e===B&&"#ffe82f")}},"".concat(e[0].toUpperCase()).concat(e.slice(1)))})),n.a.createElement("div",{className:"fetch-content"},A&&!a.results?n.a.createElement("div",{className:"loader-wrapper"},n.a.createElement(k,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(j,{data:a,count:m,page:b,fetching:A,error:L,term:B,showDetailHandler:function(e){var t=!0,r=!1,n=void 0;try{for(var c,s=a.results[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var l=c.value;if(l.name===e){x(l);break}}}catch(i){r=!0,n=i}finally{try{t||null==s.return||s.return()}finally{if(r)throw n}}},searchHandler:F,setError:T,detail:g}),"{}"!==JSON.stringify(g)&&n.a.createElement(y,{detail:g}))))};s.a.render(n.a.createElement(A,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.8612b4b5.chunk.js.map