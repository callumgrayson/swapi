(window.webpackJsonpswapi=window.webpackJsonpswapi||[]).push([[0],[,,,,function(e){e.exports=JSON.parse('{"SW_COLOR":"#ffe82f"}')},,function(e,t,a){e.exports=a.p+"static/media/Star_Wars_Logo.0a12a758.svg"},function(e,t,a){e.exports=a.p+"static/media/lightsaber_blue2.02916d98.png"},,,,function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),s=a.n(c),l=(a(16),a(2)),i=a(6),o=a.n(i),u=a(4),m=function(e){var t=e.setVersion;return n.a.createElement("div",{className:"welcome-box"},n.a.createElement("div",{className:"star-wars"},n.a.createElement("img",{src:o.a,alt:"Star Wars Logo"})),n.a.createElement("h3",null,"Welcome to your interface for the Star Wars API."),n.a.createElement("h3",null,"Enter and follow your nose for all kinds of Star Wars facts and stats from films 1 - 7."),n.a.createElement("div",{className:"go-box"},n.a.createElement("button",{className:"go-button",onClick:function(e){return t("2")},style:{borderColor:"".concat(u.SW_COLOR)}},"Let's Go!")))},p=a(1),f=a.n(p),d=a(3);function v(e){if(!e.ok){var t=e.status,a=e.statusText,r=new Error;throw r.name="".concat(t),r.message="".concat(a),r}return e}function h(){return(h=Object(d.a)(f.a.mark(function e(t){var a,r,n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-type","application/json"),a.append("Accept","application/json"),e.next=6,fetch(t,{headers:a});case 6:return r=e.sent,e.next=9,v(r);case 9:return n=e.sent,e.next=12,n.json();case 12:return c=e.sent,e.abrupt("return",{data:c});case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var y=function(e){var t={};return Object(d.a)(f.a.mark(function a(){var r,n,c,s,l=arguments;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=l.length,n=new Array(r),c=0;c<r;c++)n[c]=l[c];if(!t[n]||t[n].hasOwnProperty("error")){a.next=3;break}return a.abrupt("return",t[n]);case 3:return a.next=5,e.apply(this,n);case 5:return s=a.sent,t[n]=s,a.abrupt("return",s);case 8:case"end":return a.stop()}},a,this)}))}(function(e){return h.apply(this,arguments)}),E=["films","people","planets","species","starships","vehicles"],b=function(){var e=Object(d.a)(f.a.mark(function e(t){var a,r,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchTerm,r=t.searchPage,n="".concat("https://swapi.co/api/").concat(a,"/?page=").concat(r),e.abrupt("return",new Promise(function(){var e=Object(d.a)(f.a.mark(function e(t,r){var c,s,l,i,o,u,m,p,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n);case 2:if(c=e.sent,!(s=c.data.results)[0].hasOwnProperty("name")||"films"===a){e.next=8;break}t(c),e.next=31;break;case 8:for((l=JSON.parse(JSON.stringify(c))).data.results=[],o=!0,u=!1,m=void 0,e.prev=13,p=s[Symbol.iterator]();!(o=(d=p.next()).done);o=!0)(i=d.value).name=i.title,l.data.results.push(i);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),u=!0,m=e.t0;case 21:e.prev=21,e.prev=22,o||null==p.return||p.return();case 24:if(e.prev=24,!u){e.next=27;break}throw m;case 27:return e.finish(24);case 28:return e.finish(21);case 29:l.data.results.sort(function(e,t){return e.episode_id-t.episode_id}),t(l);case 31:case"end":return e.stop()}},e,null,[[13,17,21,29],[22,,24,28]])}));return function(t,a){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=(a(18),a(5));var g=function(e){var t=e.detail;return n.a.createElement("div",{className:"detail-box"},n.a.createElement("h2",null,t.name),n.a.createElement("div",{className:"columnsBox"},n.a.createElement("div",{className:"columns"},t&&Object.keys(t).map(function(e){return n.a.createElement("div",{key:O(),className:"keyValBox"},n.a.createElement("div",{className:"col detailKey"},e),n.a.createElement("div",{className:"col detailValue"},function e(t){if("string"===typeof t||"number"===typeof t)return t;if(Array.isArray(t)){var a,r=[],c=!0,s=!1,l=void 0;try{for(var i,o=t[Symbol.iterator]();!(c=(i=o.next()).done);c=!0)a=i.value,r.push(e(a))}catch(u){s=!0,l=u}finally{try{c||null==o.return||o.return()}finally{if(s)throw l}}return n.a.createElement("div",null,r.map(function(e){return n.a.createElement("div",{key:O()},e)}))}return JSON.stringify(t)}(t[e])))}))))},k=(a(21),a(7)),w=a.n(k),j=function(){return n.a.createElement("div",{className:"loader-box"},n.a.createElement("img",{className:"lightsaber",src:w.a,alt:"Lightsaber blue"}))},N=(a(22),function(e){var t=e.errorDisplay,a=e.resetAction;return n.a.createElement("div",{className:"error"},n.a.createElement("div",null,"Encountered an error:"),n.a.createElement("div",null,"".concat(t)),n.a.createElement("button",{className:"reset-button",onClick:a},"Continue"))}),x=function(e){var t=e.linksArray;return n.a.createElement("div",{className:"links"},t.map(function(e){return n.a.createElement("div",{key:e.key,className:"page-link",onClick:e.clickHandler,style:{color:e.matchColor}},e.display)}))},S=(a(23),function(e){var t=e.list;return n.a.createElement(n.a.Fragment,null,t.map(function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("span",{className:"list-item",onClick:e.clickHandler,style:{color:"".concat(e.color)}},e.display))}))}),C=(a(24),a(5)),P=function(e){var t=e.data,a=e.count,r=e.page,c=e.fetching,s=e.error,l=e.setError,i=e.term,o=e.showDetailHandler,m=e.searchHandler,p=e.detail,f=function(){return n.a.createElement("div",{className:"content"},t.results&&n.a.createElement("div",{className:"results-heading"},n.a.createElement("h2",null,i[0].toUpperCase()+i.slice(1))),n.a.createElement("div",{className:"results-items"},c&&n.a.createElement(j,null),!c&&t.results&&function(){var e=t.results.map(function(e){return{id:C(),display:e.name,clickHandler:function(){return o(e.name)},color:"".concat(e.name===p.name&&u.SW_COLOR)}});return n.a.createElement(S,{list:e})}()),t.results&&n.a.createElement("div",{className:"page-links"},function(e){for(var t=[],a=Math.ceil(e/10)||1,c=function(e){t.push({key:C(),display:e,searchTerm:i,matchColor:e===r&&u.SW_COLOR,clickHandler:function(){return m({searchPage:e,searchTerm:i})}})},s=1;s<=a;s++)c(s);return n.a.createElement(x,{linksArray:t})}(a)))};return n.a.createElement("div",{className:"results"},s?n.a.createElement(N,{errorDisplay:s,resetAction:function(){return l("")}}):f())},A=(a(25),a(5));var H=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(0),i=Object(l.a)(s,2),u=i[0],m=i[1],p=Object(r.useState)(1),v=Object(l.a)(p,2),h=v[0],y=v[1],O=Object(r.useState)({}),k=Object(l.a)(O,2),w=k[0],N=k[1],x=Object(r.useState)(!1),S=Object(l.a)(x,2),C=S[0],H=S[1],L=Object(r.useState)(""),_=Object(l.a)(L,2),D=_[0],W=_[1],T=Object(r.useState)(""),J=Object(l.a)(T,2),V=J[0],F=J[1],R=function(){var e=Object(d.a)(f.a.mark(function e(t){var a,r,n,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchTerm,r=t.searchPage,H(!0),e.prev=2,e.next=5,b(t);case 5:n=e.sent,void 0!==a&&F(a),n.hasOwnProperty("data")&&(c(n.data),void 0!==r&&y(r),n.data.hasOwnProperty("count")&&m(n.data.count)),n.hasOwnProperty("error")&&W(n.error.toString()),H(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),s=JSON.stringify(e.t0),W(s);case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"v1"},n.a.createElement("header",null,n.a.createElement("div",{className:"star-wars"},n.a.createElement("img",{src:o.a,alt:"Star Wars Logo"})),E.map(function(e){return n.a.createElement("button",{className:"search-button",key:A(),id:e,onClick:function(){return R({searchTerm:e,searchPage:1})},style:{color:"".concat(e===V&&"#ffe82f")}},"".concat(e[0].toUpperCase()).concat(e.slice(1)))})),n.a.createElement("div",{className:"fetch-content"},C&&!a.results?n.a.createElement("div",{className:"loader-wrapper"},n.a.createElement(j,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(P,{data:a,count:u,page:h,fetching:C,error:D,term:V,showDetailHandler:function(e){var t,r=!0,n=!1,c=void 0;try{for(var s,l=a.results[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)if((t=s.value).name===e){N(t);break}}catch(i){n=!0,c=i}finally{try{r||null==l.return||l.return()}finally{if(n)throw c}}},searchHandler:R,setError:W,detail:w}),"{}"!==JSON.stringify(w)&&n.a.createElement(g,{detail:w}))))},L=a(8);function _(e){if(!e.ok){var t=e.status,a=e.statusText,r=new Error;throw r.name="".concat(t),r.message="".concat(a),r}return e}function D(){return(D=Object(d.a)(f.a.mark(function e(t){var a,r,n,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new Headers).append("Content-type","application/json"),a.append("Accept","application/json"),e.next=6,fetch(t,{headers:a});case 6:return r=e.sent,e.next=9,_(r);case 9:return n=e.sent,e.next=12,n.json();case 12:return c=e.sent,e.abrupt("return",{data:c});case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}var W=function(e){var t={};return Object(d.a)(f.a.mark(function a(){var r,n,c,s,l=arguments;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=l.length,n=new Array(r),c=0;c<r;c++)n[c]=l[c];if(!t[n]||t[n].hasOwnProperty("error")){a.next=3;break}return a.abrupt("return",t[n]);case 3:return a.next=5,e.apply(this,n);case 5:return s=a.sent,t[n]=s,a.abrupt("return",s);case 8:case"end":return a.stop()}},a,this)}))}(function(e){return D.apply(this,arguments)});function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach(function(t){Object(L.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var V=["films","people","planets","species","starships","vehicles"],F=function(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(l.a)(c,2),i=s[0],o=s[1],u=Object(r.useState)(""),m=Object(l.a)(u,2),p=m[0],v=m[1],h=Object(r.useState)(""),y=Object(l.a)(h,2),E=y[0],b=y[1],O=Object(r.useState)(0),g=Object(l.a)(O,2),k=g[0],w=g[1],j=Object(r.useState)({}),N=Object(l.a)(j,2),x=N[0],S=N[1];function C(e){var t=e.data.results;if(t[0].hasOwnProperty("name")&&"films"!==E)return e;var a,r=JSON.parse(JSON.stringify(e));r.data.results=[];var n=!0,c=!1,s=void 0;try{for(var l,i=t[Symbol.iterator]();!(n=(l=i.next()).done);n=!0)(a=l.value).name=a.title,r.data.results.push(a)}catch(o){c=!0,s=o}finally{try{n||null==i.return||i.return()}finally{if(c)throw s}}return r.data.results.sort(function(e,t){return e.episode_id-t.episode_id}),r}function P(e,t){var a={};return a=e.hasOwnProperty(E)?J({},e[E]):{count:t.data.count},J({},e,Object(L.a)({},E,J({},a,Object(L.a)({},k,t.data.results))))}return Object(r.useEffect)(function(){var e=function(){var e=Object(d.a)(f.a.mark(function e(){var t,a,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(""),o(!0),t="".concat("https://swapi.co/api/").concat(E,"/?page=").concat(k),a={method:"get",headers:{Accept:"application/json, text/plain, */*"}},e.prev=4,e.next=7,W(t,a);case 7:r=e.sent,c=C(r),n(function(e){return P(e,c)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),v(JSON.stringify(e.t0));case 15:o(!1);case 16:case"end":return e.stop()}},e,null,[[4,12]])}));return function(){return e.apply(this,arguments)}}();a.hasOwnProperty(E)&&a[E].hasOwnProperty(k)||E&&k&&e()},[E,k]),[{categories:V,data:a,isFetching:i,error:p,term:E,page:k,detail:x},{setIsFetching:o,setError:v,setTerm:b,setPage:w,setDetail:S}]},R=(a(26),a(5)),B=function(e){return function(e){return e.split(" ").map(function(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}).join(" ")}(function(e){return e.replace("_"," ")}(e))};var U=function(e){var t,a=function(e){var t={name:"",singles:{},lists:{},technical:{}},a=["created","edited","url"];return Object.keys(e).map(function(r){"name"===r?t[r]=e[r]:a.includes(r)?t.technical[r]=e[r]:Array.isArray(e[r])?t.lists[r]=e[r]:t.singles[r]=e[r]}),t}(e.detail),r=a.name,c=a.singles,s=a.lists;a.technical;return n.a.createElement("div",{className:"v2detail-box"},n.a.createElement("h2",null,r),c&&(t=c,Object.keys(t).map(function(e){return n.a.createElement("div",{key:R(),className:"v2keyValBox"},n.a.createElement("div",{className:"v2detailKey"},B(e),":"),n.a.createElement("div",{className:"v2detailValue"},t[e]))})),s&&function(e){return n.a.createElement(n.a.Fragment,null,Object.keys(e).map(function(t){return e[t].length>0&&n.a.createElement("div",{key:R(),className:"v2ListBox"},n.a.createElement("div",{className:"v2detailKey"},B(t)),e[t].map(function(e){return n.a.createElement("div",{key:R(),className:"v2detailValue"},e)}))}))}(s))},I=(a(27),function(){return n.a.createElement("div",{className:"loader-box"},n.a.createElement("img",{className:"lightsaber",src:w.a,alt:"Lightsaber blue"}))}),K=(a(28),function(e){var t=e.errorDisplay,a=e.resetAction;return n.a.createElement("div",{className:"error"},n.a.createElement("div",null,"Encountered an error:"),n.a.createElement("div",null,"".concat(t)),n.a.createElement("button",{className:"reset-button",onClick:a},"Continue"))}),M=function(e){var t=e.linksArray;return n.a.createElement("div",{className:"links"},t.map(function(e){return n.a.createElement("div",{key:e.key,className:"page-link",onClick:e.clickHandler,style:{color:e.matchColor}},e.display)}))},G=(a(29),function(e){var t=e.list;return n.a.createElement(n.a.Fragment,null,t.map(function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("span",{className:"list-item",onClick:e.clickHandler,style:{color:"".concat(e.color)}},e.display))}))}),q=(a(30),a(5)),z=function(e){var t=e.data,a=e.page,r=e.fetching,c=e.error,s=e.setError,l=e.term,i=e.showDetailHandler,o=e.searchHandler,m=e.detail,p=function(){var e=Object.keys(t).length>0&&t.hasOwnProperty(l)&&t[l].hasOwnProperty(a);return n.a.createElement("div",{className:"content"},e&&n.a.createElement("div",{className:"results-heading"},n.a.createElement("h2",null,l[0].toUpperCase()+l.slice(1))),n.a.createElement("div",{className:"results-items"},r&&n.a.createElement(I,null),!r&&e&&function(){var e=t[l][a].map(function(e){return{id:q(),display:e.name,clickHandler:function(){return i(e.name)},color:"".concat(e.name===m.name&&u.SW_COLOR)}});return n.a.createElement(G,{list:e})}()),e&&n.a.createElement("div",{className:"page-links"},function(e){for(var t=[],r=Math.ceil(e/10)||1,c=function(e){t.push({key:q(),display:e,searchTerm:l,matchColor:e===a&&u.SW_COLOR,clickHandler:function(){return o({searchPage:e,searchTerm:l})}})},s=1;s<=r;s++)c(s);return n.a.createElement(M,{linksArray:t})}(t[l].count)))};return n.a.createElement("div",{className:"results"},c?n.a.createElement(K,{errorDisplay:c,resetAction:function(){return s("")}}):p())},Q=(a(31),a(5));var X=function(e){var t=F(),a=Object(l.a)(t,2),r=a[0],c=r.categories,s=r.data,i=r.isFetching,m=r.error,p=r.term,v=r.page,h=r.count,y=r.detail,E=a[1],b=E.setTerm,O=E.setPage,g=E.setError,k=E.setDetail,w=e.setVersion,j=function(){var e=Object(d.a)(f.a.mark(function e(t){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.searchTerm,r=t.searchPage,b(a),O(r);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"v2"},n.a.createElement("header",null,n.a.createElement("div",{className:"star-wars"},n.a.createElement("img",{src:o.a,alt:"Star Wars Logo",onClick:function(e){return w("0")}})),c.map(function(e){return n.a.createElement("button",{className:"search-button",key:Q(),id:e,onClick:function(){return j({searchTerm:e,searchPage:1})},style:{color:"".concat(e===p&&u.SW_COLOR)}},"".concat(e[0].toUpperCase()).concat(e.slice(1)))})),n.a.createElement("div",{className:"fetch-content"},i&&!s.results?n.a.createElement("div",{className:"loader-wrapper"},n.a.createElement(I,null)):n.a.createElement(n.a.Fragment,null,n.a.createElement(z,{data:s,count:h,page:v,fetching:i,error:m,term:p,showDetailHandler:function(e){var t,a=!0,r=!1,n=void 0;try{for(var c,l=s[p][v][Symbol.iterator]();!(a=(c=l.next()).done);a=!0)if((t=c.value).name===e){k(t);break}}catch(i){r=!0,n=i}finally{try{a||null==l.return||l.return()}finally{if(r)throw n}}},searchHandler:j,setError:g,detail:y}),"{}"!==JSON.stringify(y)&&n.a.createElement(U,{detail:y}))))};a(32);var Y=function(){var e=Object(r.useState)("2"),t=Object(l.a)(e,2),a=t[0],c=t[1];return n.a.createElement("div",{className:"app"},n.a.createElement("select",{className:"select",value:a,onChange:function(e){c(e.target.value)}},n.a.createElement("option",{value:"0"},"start"),n.a.createElement("option",{value:"1"},"version 1"),n.a.createElement("option",{value:"2"},"version 2")),"0"===a&&n.a.createElement(m,{setVersion:c}),"1"===a&&n.a.createElement(H,null),"2"===a&&n.a.createElement(X,{setVersion:c}))};s.a.render(n.a.createElement(Y,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.943a1fd0.chunk.js.map